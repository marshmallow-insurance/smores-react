{"version":3,"file":"BadgeList.stories-wK_QzfrM.js","sources":["../../src/BadgeList/BadgeList.tsx","../../src/BadgeList/BadgeList.stories.tsx"],"sourcesContent":["import { Badge, BadgeSize, type BadgeProps } from '../Badge/Badge'\nimport styled from 'styled-components'\nimport { Tooltip } from '../Tooltip'\nimport type { TooltipProps } from '../Tooltip/Tooltip'\nimport { Text } from '../Text'\n\ntype WithTooltip = Pick<TooltipProps, 'title' | 'content'> & {\n  position?: TooltipProps['position']\n}\n\nexport type BadgeListBadge = BadgeProps & { tooltip?: WithTooltip }\n\ntype Props = {\n  size?: BadgeProps['size']\n  limit?: number\n  badges: Omit<BadgeListBadge, 'zIndex'>[]\n}\n\n/**\n * ### A list of badges with optional tooltips\n *\n * @param limit - The maximum number of badges to display. If the number of badges exceeds the limit, a badge will be displayed indicating the number of hidden excess badges.\n *\n */\nexport function BadgeList({ badges, limit, size = BadgeSize.Lg }: Props) {\n  const badgeZIndexMax = badges.length\n  const limitExcess =\n    // TODO: off by one adjustments work, just hard to read, refactor for human eyes ðŸ‘ï¸ðŸ‘„ðŸ‘ï¸\n    limit && (badges.length > limit ? badges.length - limit : 0)\n\n  const maxBadges = limit ? limit - 1 : undefined\n  const showExcessBadge = limitExcess !== undefined && Boolean(limitExcess)\n\n  return (\n    <Container $size={size}>\n      {badges\n        .slice(0, limitExcess ? maxBadges : undefined)\n        .map((badge, index) => (\n          <WithTooltip\n            key={typeof badge.src === 'string' ? badge.src : index}\n            badge={{\n              ...badge,\n              zIndex: badgeZIndexMax - index,\n              size,\n            }}\n          />\n        ))}\n\n      {showExcessBadge && (\n        <div\n          className=\"limit-badge\"\n          style={{ zIndex: badgeZIndexMax, marginLeft: '4px' }}\n        >\n          <Badge\n            title={`+${limitExcess}`}\n            borderColour=\"color.illustration.neutral.300\"\n            size={size}\n            src={<ExcessBadge excess={limitExcess + 1} />}\n            disabled\n          />\n        </div>\n      )}\n    </Container>\n  )\n}\n\ntype ExcessBadgeProps = {\n  excess: number\n}\n\nfunction ExcessBadge({ excess }: ExcessBadgeProps) {\n  return (\n    <ExcessBadgeContainer>\n      <Text typo=\"caption\" style={{ fontWeight: 'bold' }}>\n        +{excess}\n      </Text>\n    </ExcessBadgeContainer>\n  )\n}\n\nconst ExcessBadgeContainer = styled.div`\n  display: flex;\n  align-items: center;\n  place-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: ${({ theme }) => theme.color.surface.base[400]};\n  pointer-events: none;\n`\n\ntype WithTooltipProps = {\n  badge: BadgeListBadge\n}\n\nconst WithTooltip = ({ badge: { tooltip, ...badge } }: WithTooltipProps) => {\n  if (tooltip) {\n    return (\n      <div style={{ zIndex: badge.zIndex }}>\n        <Tooltip\n          position={tooltip.position ?? 'bottom'}\n          title={tooltip?.title}\n          content={tooltip.content}\n        >\n          <Badge {...badge} />\n        </Tooltip>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ zIndex: badge.zIndex }}>\n      <Badge {...badge} />\n    </div>\n  )\n}\n\nconst marginRightMapping = {\n  [BadgeSize.Lg]: '-18px',\n  [BadgeSize.Md]: '-14px',\n  [BadgeSize.Sm]: '-11px',\n} satisfies Record<BadgeSize, string>\n\nconst Container = styled.div<{ $size: BadgeSize }>`\n  display: flex;\n\n  > * {\n    transition:\n      margin 0.2s ease-in-out,\n      padding 0.2s ease-in-out;\n    margin-right: ${(props) => marginRightMapping[props.$size]};\n\n    &:hover:not(:first-child):not(.limit-badge) {\n      padding-left: 10px;\n      &:not(:last-child) {\n        padding-right: 5px;\n      }\n    }\n  }\n`\n","import { Meta, StoryObj } from '@storybook/react-vite'\nimport { BadgeSize } from '../Badge/Badge'\nimport { getExampleImg } from '../Badge/storybook/exampleImg'\nimport { BadgeList } from './BadgeList'\n\nconst meta: Meta<typeof BadgeList> = {\n  title: 'BadgeList',\n  component: BadgeList,\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof BadgeList>\n\nconst createTemplateBadge = () => {\n  const { name, src } = getExampleImg()\n\n  return {\n    src,\n    title: name,\n    tooltip: {\n      title: 'This is a tooltip',\n      content: 'This is the content of the tooltip',\n    },\n  }\n}\n\nexport const Primary: Story = {\n  args: {\n    badges: [\n      createTemplateBadge(),\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n    ],\n  },\n}\n\nexport const MediumSize: Story = {\n  args: {\n    size: BadgeSize.Md,\n    badges: [\n      createTemplateBadge(),\n      createTemplateBadge(),\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n    ],\n  },\n}\n\nexport const SmallSize: Story = {\n  args: {\n    size: BadgeSize.Sm,\n    badges: [\n      createTemplateBadge(),\n      createTemplateBadge(),\n      createTemplateBadge(),\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n    ],\n  },\n}\n\nexport const BadgeFallback: Story = {\n  args: {\n    limit: 5,\n    badges: [\n      { ...createTemplateBadge(), src: '' },\n      { ...createTemplateBadge(), src: 'example/404.jpg' },\n      createTemplateBadge(),\n      createTemplateBadge(),\n      createTemplateBadge(),\n      createTemplateBadge(),\n    ],\n  },\n}\n\nexport const BadgeLimit: Story = {\n  args: {\n    limit: 4,\n    badges: [\n      createTemplateBadge(),\n      { ...createTemplateBadge() },\n      { ...createTemplateBadge() },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n      { ...createTemplateBadge(), disabled: true },\n    ],\n  },\n}\n"],"names":["cov_1g2y71trl3","actualCoverage","jsxs","badges","BadgeList","limit","size","BadgeSize","badgeZIndexMax","limitExcess","maxBadges","showExcessBadge","Container","children","badge","index","s","jsx","WithTooltip","zIndex","className","style","marginLeft","Badge","borderColour","src","ExcessBadge","disabled","excess","ExcessBadgeContainer","typo","fontWeight","theme","color","surface","tooltip","position","Tooltip","title","content","Md","Sm","props","marginRightMapping","meta","component","createTemplateBadge","name","getExampleImg","Primary","args","MediumSize","SmallSize","BadgeFallback","BadgeLimit","parameters","docs","source","originalSource"],"mappings":"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"}