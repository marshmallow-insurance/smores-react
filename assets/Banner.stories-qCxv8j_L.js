import{s as u,A as N,j as e}from"./styled-components.browser.esm-CJMx1vp9.js";import{B as t}from"./Box-Dm5zCsW8.js";import{B as i}from"./Button-Bcc5EwQO.js";import{T as w}from"./Text-m-KhGIht.js";import{r as x}from"./index-BBkUAzwr.js";import{I as j}from"./Icon-BsCxozQo.js";import{t as p}from"./theme-D50qMPxU.js";import{u as S}from"./index-Bq5HI2zZ.js";import"./Loader-DblCbV5R.js";import"./focusOutline-D9_3RTEn.js";import"./polished.esm-D0h1-lPB.js";const b={upsell:{iconColor:"liquorice",backgroundColor:p.colors.marshmallowPink,textColor:"liquorice"},critical:{iconColor:"mascarpone",backgroundColor:p.colors.strawberry,textColor:"mascarpone"},general:{iconColor:"mascarpone",backgroundColor:p.colors.liquorice,textColor:"mascarpone"},success:{iconColor:"mascarpone",backgroundColor:p.colors.apple,textColor:"mascarpone"}},B=({type:r,autoCloseTime:o=4,id:a,message:l,topOffset:C,exploreAction:d,showExploreText:h,showExploreIcon:n,leadingIcon:s,canManuallyClose:E,showCloseIcon:M,deleteBanner:I,noTimeout:O})=>{const A=()=>{if(!O&&r!=="critical")return I(a)};S(()=>A(),o*1e3);const y=b[r].textColor,g=b[r].iconColor;return e.jsxs($,{p:"24px",mt:{custom:C},flex:!0,justifyContent:"space-between",type:r,children:[e.jsxs(t,{flex:!0,alignItems:"center",children:[s&&e.jsx(j,{mr:"12px",render:s,size:24,color:g}),e.jsx(w,{typo:"headline-small",color:y,children:l})]}),e.jsxs(t,{flex:!0,alignItems:"center",children:[E&&e.jsx(v,{onClick:()=>I(a),"aria-label":`close banner ${l}`,children:M?e.jsx(j,{render:"cross",size:16,color:g}):e.jsx(_,{tag:"span",typo:"desc-medium",color:y,children:"Dismiss"})}),d&&e.jsx(v,{onClick:d,"aria-label":`cta ${l}`,children:e.jsxs(t,{flex:!0,alignItems:"center",children:[h&&e.jsx(_,{ml:"12px",tag:"span",typo:"desc-medium",color:y,children:"Explore"}),n&&e.jsx(j,{render:"arrow",ml:"12px",size:24,color:g,rotate:180})]})})]})]},a)},$=u(t)(({type:r})=>N`
    border-radius: 0px 0px 16px 16px;
    background-color: ${b[r].backgroundColor};
  `),v=u.button`
  cursor: pointer;
`,_=u(w)`
  text-decoration: underline;
`;try{B.displayName="BannerItem",B.__docgenInfo={description:"",displayName:"BannerItem",props:{deleteBanner:{defaultValue:null,description:"",name:"deleteBanner",required:!0,type:{name:"(id: string) => void"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"upsell"'},{value:'"critical"'},{value:'"general"'}]}},topOffset:{defaultValue:null,description:"",name:"topOffset",required:!0,type:{name:"string"}},exploreAction:{defaultValue:null,description:"",name:"exploreAction",required:!1,type:{name:"(() => void)"}},showExploreText:{defaultValue:null,description:"",name:"showExploreText",required:!1,type:{name:"boolean"}},showExploreIcon:{defaultValue:null,description:"",name:"showExploreIcon",required:!1,type:{name:"boolean"}},autoCloseTime:{defaultValue:{value:"4"},description:"",name:"autoCloseTime",required:!1,type:{name:"enum",value:[{value:"4"},{value:"8"},{value:"5"},{value:"6"},{value:"7"},{value:"9"},{value:"10"}]}},leadingIcon:{defaultValue:null,description:"",name:"leadingIcon",required:!1,type:{name:"string"}},canManuallyClose:{defaultValue:null,description:"",name:"canManuallyClose",required:!1,type:{name:"boolean"}},showCloseIcon:{defaultValue:null,description:"",name:"showCloseIcon",required:!1,type:{name:"boolean"}},noTimeout:{defaultValue:null,description:"",name:"noTimeout",required:!1,type:{name:"boolean"}}}}}catch{}const V=x.createContext({addBanner:()=>{throw new Error("Please add the BannerContainer to your application")}}),z=()=>x.useContext(V),f=({children:r})=>{let o=0;const[a,l]=x.useState([]),C=x.useCallback(()=>{const n=`MM_BANNER_${o}`;return o++,n},[o]),d=n=>{const s={...n,id:C()};l([s])},h=n=>{l(a.filter(s=>s.id!==n))};return e.jsxs(V.Provider,{value:{addBanner:d},children:[r,e.jsx(G,{children:a.map(n=>e.jsx(B,{...n,deleteBanner:h},n.id))})]})},G=u.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 99;
`;try{f.displayName="BannerContainer",f.__docgenInfo={description:"",displayName:"BannerContainer",props:{}}}catch{}const R=()=>{const{addBanner:r}=z();return{addBanner:r}},re={title:"BannerContainer",component:f},D=()=>{const{addBanner:r}=R();return e.jsxs(t,{children:[e.jsx(c,{label:"Generic",children:e.jsx(i,{primary:!0,onClick:()=>{r({type:"general",topOffset:"64px",leadingIcon:"wellbeing",message:"Free insurance for 1 month for all our customers",exploreAction:()=>{},showExploreText:!0,canManuallyClose:!0})},children:"General banner"})}),e.jsx(c,{label:"Upsell",children:e.jsx(i,{primary:!0,onClick:()=>{r({type:"upsell",topOffset:"64px",leadingIcon:"circle-tick",message:"Get up to Â£19.34 off your plan today",exploreAction:()=>{},showExploreIcon:!0})},children:"Upsell banner"})}),e.jsx(c,{label:"Success",children:e.jsx(i,{primary:!0,onClick:()=>{r({type:"success",topOffset:"64px",leadingIcon:"circle-tick",message:"Marshmallow Miles discount applied"})},children:"Success banner"})}),e.jsx(c,{label:"Critical",children:e.jsx(i,{primary:!0,onClick:()=>{r({type:"critical",topOffset:"64px",leadingIcon:"card",message:"Your card needs to be updated",canManuallyClose:!0})},children:"Critical banner"})}),e.jsx(c,{label:"Success (do not auto close)",children:e.jsx(i,{primary:!0,onClick:()=>{r({type:"success",topOffset:"64px",leadingIcon:"circle-tick",message:"Marshmallow Miles discount applied (no timeout)",noTimeout:!0})},children:"Success banner (no timeout)"})})]})},P=()=>e.jsx(e.Fragment,{children:e.jsx(f,{children:e.jsx(D,{})})}),m=P.bind({}),c=({label:r,children:o})=>e.jsxs(U,{mt:"16px",children:[e.jsx(t,{width:"140px",children:e.jsx(w,{tag:"span",typo:"label-large",children:r})}),o]}),U=u(t)`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 16px;
`;var k,q,T;m.parameters={...m.parameters,docs:{...(k=m.parameters)==null?void 0:k.docs,source:{originalSource:`() => {
  return <>
      <BannerContainer>
        <ChildComponent />
      </BannerContainer>
    </>;
}`,...(T=(q=m.parameters)==null?void 0:q.docs)==null?void 0:T.source}}};const ne=["Default"];export{m as Default,ne as __namedExportsOrder,re as default};
