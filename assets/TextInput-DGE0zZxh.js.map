{"version":3,"file":"TextInput-DGE0zZxh.js","sources":["../../src/TextInput/TextInput.tsx"],"sourcesContent":["import {\n  FocusEvent,\n  AnimationEvent,\n  FormEvent,\n  ForwardedRef,\n  forwardRef,\n  HTMLInputAutoCompleteAttribute,\n} from 'react'\n\nimport { Box } from '../Box'\nimport { Field } from '../fields/Field'\nimport { CommonFieldProps } from '../fields/commonFieldTypes'\nimport {\n  Input,\n  StyledFrontIcon,\n  StyledTrailingIcon,\n} from '../fields/components/CommonInput'\nimport { useUniqueId } from '../utils/id'\n\ninterface Props extends CommonFieldProps {\n  type?: 'text' | 'email' | 'password' | 'time' | 'date' | 'tel'\n  placeholder: string\n  name?: string\n  value: string\n  onBlur?: (e: FocusEvent<HTMLInputElement>) => void\n  /**\n   * Triggers after animation end (animation duration is 2s),\n   * the animation starts when a user selects or hovers over an autofill option\n   */\n  onAutoFill?: () => void\n}\n\ntype InputMode = 'text' | 'email' | 'numeric'\n\n/** on change or on input required */\ntype InputProps = (\n  | {\n      /** on change is required and on input optional */\n      onChange: (e: string) => void\n      onInputChange?: (e: FormEvent<HTMLInputElement>) => void\n    }\n  | {\n      /** on input is required and on change optional */\n      onChange?: (e: string) => void\n      onInputChange: (e: FormEvent<HTMLInputElement>) => void\n    }\n) & {\n  autoCompleteAttr?: HTMLInputAutoCompleteAttribute\n  inputModeAttr?: InputMode\n}\n\nexport type TextInputProps = Props & InputProps\n\n/**\n * A reusable TextInput component that supports various input types, custom styling, icons,\n * and autofill detection.\n *\n * ### Caveats:\n * - `onAutoFill` triggers after animation end (animation duration is 2s),\n * the animation starts when a user selects or hovers over an autofill option\n */\nexport const TextInput = forwardRef(function TextInput(\n  {\n    id: idProp,\n    type = 'text',\n    placeholder,\n    name,\n    value,\n    error = false,\n    onBlur,\n    onChange,\n    onInputChange,\n    onAutoFill,\n    disabled = false,\n    frontIcon,\n    trailingIcon,\n    fallbackStyle,\n    autoCompleteAttr = 'off',\n    inputModeAttr,\n    ...fieldProps\n  }: TextInputProps,\n  ref: ForwardedRef<HTMLInputElement>,\n) {\n  const id = useUniqueId(idProp)\n\n  const handleAnimationEnd = (e: AnimationEvent<HTMLInputElement>) => {\n    if (e.animationName === 'onAutoFillStart' && onAutoFill && !!value) {\n      onAutoFill()\n    }\n  }\n\n  return (\n    <Field {...fieldProps} htmlFor={id} error={error}>\n      <Box flex alignItems=\"center\" justifyContent=\"flex-start\">\n        {frontIcon && (\n          <StyledFrontIcon\n            $disabled={disabled}\n            render={frontIcon}\n            color=\"sesame\"\n          />\n        )}\n        <Input\n          disabled={disabled}\n          type={type}\n          id={id}\n          name={name}\n          ref={ref}\n          onAnimationEnd={handleAnimationEnd}\n          placeholder={placeholder}\n          value={value}\n          $error={error}\n          $frontIcon={frontIcon}\n          $fallbackStyle={fallbackStyle}\n          autoComplete={autoCompleteAttr}\n          onChange={(e: FormEvent<HTMLInputElement>) => {\n            onChange?.(e.currentTarget.value)\n            onInputChange?.(e)\n          }}\n          onBlur={onBlur}\n          inputMode={inputModeAttr}\n        />\n        {trailingIcon && (\n          <StyledTrailingIcon\n            $disabled={disabled}\n            render={trailingIcon}\n            color=\"sesame\"\n          />\n        )}\n      </Box>\n    </Field>\n  )\n})\n"],"names":["cov_1ig37uwd6k","actualCoverage","jsxs","TextInput","forwardRef","type","idProp","placeholder","name","value","error","onBlur","onChange","onInputChange","onAutoFill","disabled","frontIcon","trailingIcon","fallbackStyle","autoCompleteAttr","inputModeAttr","useUniqueId","handleAnimationEnd","e","s","b","jsx","Field","htmlFor","id","children","flex","Box","alignItems","justifyContent","$disabled","StyledFrontIcon","render","color","Input","ref","onAnimationEnd","$error","$frontIcon","$fallbackStyle","autoComplete","currentTarget","inputMode","StyledTrailingIcon"],"mappings":"80IAiEI,OAAAA,EAAAC,UAAA,CAAA,OAAAA,CAAA,EAAAA,CAAAD,CA4BEA,EAAAE,EA9BE,MAAAC,GAAAH,EAAA,EAAA,EAAA,CAAA,IAAAI,EAAAA,WAAA,SAAA,CACJC,GAAAC,EACAC,KAAAA,GAAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,QACAC,YAAAA,EACAC,KAAAA,EACAC,MAAAA,EACAC,MAAAA,GAAAX,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,IACAY,OAAAA,EACAC,SAAAA,EACAC,cAAAA,EACAC,WAAAA,EACAC,SAAAA,GAAAhB,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,IACAiB,UAAAA,EACAC,aAAAA,EACAC,cAAAA,EACAC,iBAAAA,GAAApB,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,OACA,cAAAoB,EACF,IAEApB,EAAAA,EAAAA,CACAA,EAAMA,EAAAA,EAAAA,CAAAA,IAAuBA,MAAAA,GAAAA,EAAA,EAAA,EAAA,CAAA,IAAAqB,EAAAf,CAAA,GAE7BN,EAAMsB,EAAAA,EAAAA,CAAAA,IAA8DtB,MAAAA,EAAAuB,GAAA,CAAAvB,EAAA,EAAAwB,EAAA,CAAA,IAClExB,MAAI,CAAA,IAAgEA,EAAAyB,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAF,EAAA,gBAAA,oBAAAvB,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAc,KAAAd,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,CAAA,CAAAS,IAAAT,EAAA,EAAAwB,EAAA,CAAA,EAAA,CAAA,IAClEV,EAAW,EAAA,EAAA,CAAA,IACbA,EAAA,GAAAd,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,GACFA,EAEA,OAAAA,EAAA,EAAA,EAAA,CAAA,IACa0B,EAAAA,IAAAC,EAAA,CAAYC,GAAAA,EAAalB,QAAAmB,EAClCC,MAAAA,EAAKC,SAAI7B,EAAAA,KAAA8B,EAAA,CAACC,KAAAA,GAAoBC,WAAAA,SAC3BJ,eAAA9B,aAEGmC,SAAAA,IAAW,EAAA,EAAA,CAAA,EAAA,CAAA,IAAAnB,IAAAhB,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA0B,EAAAA,IAAAU,EAAA,CACXC,UAAQrB,EACRsB,OAAMtB,EACR,mBAGAU,EAAAA,IAAAa,EAAA,CACAlC,SAAAA,EACAwB,KAAAA,EACArB,GAAAA,EACAgC,KAAAA,EACAC,IAAAA,EACAlC,eAAAe,EACAb,YAAAA,EACAiC,MAAAA,EACAC,OAAAA,EACAC,WAAAA,EACAC,eAAc1B,EACdP,aAAWO,EAAmCnB,SAAAA,GAAAA,CAAAA,EAAA,EAAAwB,EAAA,CAAA,IAC5CZ,EAAakC,EAAAA,EAAAA,CAAAA,IAAmB9C,IAAAA,EAAAA,cAAA,KAAA,EAChCa,EAAA,EAAiB,EAAA,CAAA,IACnBA,IAAAU,CAAA,CACAZ,EACAoC,OAAAA,EACF,UACC/C,CAEGmC,CAAAA,GAAAA,IAAW,EAAA,CAAA,EAAA,CAAA,IAAAlB,IAAAjB,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA0B,EAAAA,IAAAsB,EAAA,CACXX,UAAQpB,EACRqB,OAAMrB,EACR,MAAA,SAEJ,GAAA,CAAA,CACF,CAEJ,CAAC,CAAAjB,CAAAA;;;;;;"}