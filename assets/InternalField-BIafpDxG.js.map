{"version":3,"file":"InternalField-BIafpDxG.js","sources":["../../src/fields/components/InternalField.tsx"],"sourcesContent":["import { ReactNode } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { Box } from '../../Box'\nimport { Icon } from '../../Icon'\nimport { Text } from '../../Text'\nimport { CommonFieldProps } from '../commonFieldTypes'\n\ninterface InternalFieldProps extends CommonFieldProps {\n  children: ReactNode\n  className?: string\n  htmlFor?: string\n  fieldType: 'field' | 'fieldset'\n}\n\nexport const InternalField = ({\n  children,\n  fieldType,\n  renderAsTitle,\n  htmlFor,\n  className,\n  label,\n  assistiveText,\n  error,\n  errorMsg,\n  required,\n  completed,\n  ...marginProps\n}: InternalFieldProps) => {\n  const labelTag = fieldType === 'field' ? 'label' : 'legend'\n\n  const textColor = error ? 'color.feedback.negative.200' : 'color.text.subtle'\n  return (\n    <Container\n      forwardedAs={fieldType === 'field' ? 'div' : 'fieldset'}\n      className={className}\n      {...marginProps}\n    >\n      {label && (\n        <>\n          {renderAsTitle ? (\n            <Box mb=\"16px\">\n              <Text tag={labelTag} typo=\"heading-small\" htmlFor={htmlFor}>\n                {label}\n              </Text>\n\n              {assistiveText && (\n                <Text tag=\"p\" color=\"sesame\" mt={{ custom: 4 }}>\n                  {assistiveText}\n                </Text>\n              )}\n            </Box>\n          ) : (\n            <Text\n              tag={labelTag}\n              typo=\"label\"\n              color={textColor}\n              htmlFor={htmlFor}\n              mb={{ custom: 4 }}\n            >\n              {label}\n              {required && (\n                <Text\n                  tag=\"span\"\n                  typo=\"body-small\"\n                  color=\"color.feedback.negative.200\"\n                >\n                  *\n                </Text>\n              )}\n            </Text>\n          )}\n        </>\n      )}\n\n      <Box>{children}</Box>\n      {fieldType === 'field' && assistiveText && !renderAsTitle && (\n        <Text\n          tag={labelTag}\n          typo=\"caption\"\n          color={textColor}\n          mt={{ custom: 4 }}\n        >\n          {assistiveText}\n        </Text>\n      )}\n\n      {error &&\n        errorMsg &&\n        (typeof errorMsg === 'string' ? (\n          <Box flex alignItems=\"center\" mt=\"8px\" gap={{ custom: 4 }}>\n            <Icon\n              render=\"warning\"\n              size={16}\n              color=\"color.feedback.negative.200\"\n            />\n            <Text tag=\"span\" typo=\"caption\" color=\"color.feedback.negative.200\">\n              {errorMsg}\n            </Text>\n          </Box>\n        ) : (\n          <Box mt=\"8px\">{errorMsg}</Box>\n        ))}\n\n      {/* When completed is false, whitespace is rendered */}\n      {completed !== undefined && (\n        <AnimationWrapper\n          $displayStatus={completed}\n          $isError={!!(error && errorMsg)}\n        >\n          <StatusWrapper mt={'8px'}>\n            <Icon\n              render=\"included\"\n              size={16}\n              color=\"color.feedback.positive.200\"\n            />\n            <Text typo=\"caption\" color=\"color.feedback.positive.200\">\n              Complete\n            </Text>\n          </StatusWrapper>\n        </AnimationWrapper>\n      )}\n    </Container>\n  )\n}\n\nconst AnimationWrapper = styled(Box)<{\n  $displayStatus: boolean\n  $isError: boolean\n}>`\n  width: 0;\n  overflow: hidden;\n\n  ${({ $displayStatus }) =>\n    $displayStatus &&\n    css`\n      transition: width 0.6s ease-in;\n      width: 100%;\n    `}\n\n  /* This enables animation to appear when previous state is error */\n  ${({ $isError }) =>\n    $isError &&\n    css`\n      height: 0;\n    `}\n`\n\nconst StatusWrapper = styled(Box)`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n`\n\nconst Container = styled(Box)`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n\n  // In case, the element is a 'fieldset', we remove the border\n  border: 0;\n`\n"],"names":["cov_2aglyl4l22","actualCoverage","InternalField","fieldType","renderAsTitle","htmlFor","className","label","assistiveText","error","errorMsg","required","completed","marginProps","textColor","Container","children","jsxs","jsx","Fragment","mb","Box","tag","labelTag","Text","typo","color","mt","custom","flex","alignItems","gap","render","Icon","size","$displayStatus","AnimationWrapper","$isError","StatusWrapper","s"],"mappings":"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"}