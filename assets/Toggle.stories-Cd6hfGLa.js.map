{"version":3,"file":"Toggle.stories-Cd6hfGLa.js","sources":["../../src/Toggle/Toggle.tsx","../../src/Toggle/storybook/Toggle.stories.tsx"],"sourcesContent":["import React, { FC } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { Box } from '../Box'\nimport { Color, theme } from '../theme'\nimport { focusOutline } from '../utils/focusOutline'\nimport { MarginProps } from '../utils/space'\n\nexport type Props = {\n  /** unique ID */\n  id?: string\n  /** checked flag  */\n  checked: boolean\n  disabled?: boolean\n  /** onToggle listener  */\n  onToggle: () => void\n  bgColor?: Color\n} & MarginProps\n\nexport const Toggle: FC<Props> = ({\n  id,\n  checked,\n  onToggle,\n  disabled,\n  bgColor,\n  ...marginProps\n}) => {\n  return (\n    <Switch forwardedAs=\"label\" htmlFor={id} {...marginProps}>\n      <Checkbox\n        id={id}\n        disabled={disabled}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={onToggle}\n        $bgColor={bgColor}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') {\n            onToggle()\n          }\n        }}\n        aria-label=\"toggle\"\n      />\n      <Slider $disabled={disabled} />\n    </Switch>\n  )\n}\n\nconst Switch = styled(Box)`\n  position: relative;\n  display: inline-block;\n  width: 56px;\n  height: 32px;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n`\n\nconst Slider = styled.span<{ $disabled?: boolean }>`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ${theme.colors.oatmeal};\n  border: none;\n  border-radius: 28px;\n  transition: 0.2s background-color;\n  outline: none;\n\n  &:before {\n    position: absolute;\n    content: '';\n    height: 24px;\n    width: 24px;\n    left: 4px;\n    bottom: 4px;\n    background-color: ${theme.colors.mascarpone};\n    transition: 0.2s transform;\n    border-radius: 50%;\n  }\n\n  ${({ $disabled }) =>\n    $disabled\n      ? css`\n          cursor: not-allowed;\n        `\n      : css`\n          &:hover {\n            background-color: ${theme.colors.marzipan};\n          }\n        `}\n`\n\nconst Checkbox = styled.input<{ $bgColor?: Color }>`\n  ${focusOutline({ selector: `&:focus-visible + ${Slider}` })}\n\n  &:checked + ${Slider} {\n    background-color: ${(props) =>\n      props.$bgColor ? theme.colors[props.$bgColor] : theme.colors.pistachio};\n    border: none;\n  }\n\n  &:checked + ${Slider}:before {\n    transform: translateX(24px);\n  }\n`\n","import { useArgs } from '@storybook/preview-api'\nimport { Meta, StoryObj } from '@storybook/react'\nimport { expect, fn, userEvent, waitFor, within } from '@storybook/test'\nimport React from 'react'\nimport { Props, Toggle } from '../Toggle'\n\nconst Render = (args: Props) => {\n  const [{ checked }, updateArgs] = useArgs<Props>()\n\n  function onChange() {\n    args.onToggle()\n    updateArgs({ checked: !checked })\n  }\n\n  return <Toggle {...args} onToggle={onChange} checked={checked} />\n}\n\nconst meta: Meta<typeof Toggle> = {\n  title: 'Toggle',\n  component: Toggle,\n  decorators: [\n    (Story) => (\n      <div style={{ margin: '64px' }}>\n        <Story />\n      </div>\n    ),\n  ],\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof Toggle>\n\nexport const Primary: Story = {\n  args: {\n    onToggle: fn(),\n    checked: true,\n  },\n  render: Render,\n  play: async ({ args, canvasElement }) => {\n    const canvas = within(canvasElement)\n    const checkbox = canvas.getByRole('checkbox', { name: 'toggle' })\n    await userEvent.click(checkbox)\n    await waitFor(() => expect(args.onToggle).toHaveBeenCalled())\n  },\n}\n\nexport const Disabled: Story = {\n  args: {\n    checked: false,\n    disabled: true,\n  },\n  render: Render,\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement)\n    const checkbox = canvas.getByRole('checkbox', { name: 'toggle' })\n    await userEvent.click(checkbox)\n    await expect(checkbox).toBeDisabled()\n  },\n}\n"],"names":["cov_2bed1qo1sj","path","hash","global","gcv","coverageData","coverage","actualCoverage","s","Toggle","id","checked","onToggle","disabled","bgColor","marginProps","f","React","createElement","Switch","forwardedAs","htmlFor","Checkbox","type","onChange","$bgColor","onKeyDown","e","key","b","styled","Box","Slider","span","theme","colors","oatmeal","mascarpone","$disabled","useArgs","Render","args","updateArgs","meta","title","component","decorators","Story","margin","Primary","fn","render","play","canvasElement","checkbox","within","getByRole","name","userEvent","click","waitFor","expect","toHaveBeenCalled","Disabled","toBeDisabled","parameters","docs","source","originalSource"],"mappings":"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"}