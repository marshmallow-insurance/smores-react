{"version":3,"file":"ActionDropdown.stories-BGL3WpQf.js","sources":["../../src/ActionDropdown/List.tsx","../../src/ActionDropdown/ActionDropdown.tsx","../../src/ActionDropdown/storybook/ActionDropdown.stories.tsx"],"sourcesContent":["import React, { FC } from 'react'\nimport styled from 'styled-components'\n\nimport { Color, theme } from '../theme'\nimport { darken } from 'polished'\n\nexport type ActionListItem = {\n  label: string\n  value: string\n  bgColor?: Color\n  textColor?: Color\n}\n\ntype Props = {\n  options: ActionListItem[]\n  selectOption: (option: ActionListItem) => void\n}\n\nexport const List: FC<Props> = ({ options, selectOption }) => (\n  <Container>\n    {options.map((option) => (\n      <ListItem key={option.value} onClick={() => selectOption(option)}>\n        {option.label}\n      </ListItem>\n    ))}\n  </Container>\n)\n\nconst Container = styled.ul`\n  padding: 0;\n  margin: 0;\n  max-height: 188px;\n`\n\nconst ListItem = styled.li`\n  padding: 16px 24px;\n  text-align: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  font-size: 14px;\n  cursor: pointer;\n  color: ${theme.colors.liquorice};\n\n  &:hover {\n    background-color: ${darken(0.1, theme.colors.custard)};\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n`\n","import React, { FC, useState } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { Box } from '../Box'\nimport { Icon } from '../Icon'\nimport { Text } from '../Text'\nimport { ActionListItem, List } from './List'\n\nimport { Color, theme } from '../theme'\nimport { MarginProps } from '../utils/space'\n\nexport type ActionDropdownProps = {\n  id?: string\n  className?: string\n  /** label displayed above the dropdown  */\n  label?: string\n  /** value */\n  value: ActionListItem\n  /** list of items for the dropdown list */\n  list: ActionListItem[]\n  /** onSelect handler */\n  onSelect: (action: ActionListItem) => void\n} & MarginProps\n\nexport const ActionDropdown: FC<ActionDropdownProps> = ({\n  id,\n  className = '',\n  label,\n  value,\n  list,\n  onSelect,\n  ...marginProps\n}) => {\n  const [open, setOpen] = useState(false)\n\n  return (\n    <Container\n      id={id}\n      className={className}\n      onClick={() => setOpen((currentOpen) => !currentOpen)}\n      {...marginProps}\n    >\n      {label && (\n        <Text tag=\"label\" color=\"sesame\" typo=\"label\">\n          {label}\n        </Text>\n      )}\n\n      <Label\n        $text={value.textColor ?? 'liquorice'}\n        $bg={value.bgColor ?? 'sesame'}\n      >\n        <SelectedOption>{value.label}</SelectedOption>\n        <Icon\n          render=\"caret\"\n          color={value.textColor ?? 'sesame'}\n          size={24}\n          rotate={open ? 180 : 0}\n        />\n      </Label>\n      <OuterContainer open={open}>\n        <List options={list} selectOption={onSelect} />\n      </OuterContainer>\n    </Container>\n  )\n}\n\ninterface ISelected {\n  $text: Color\n  $bg: Color\n}\n\nconst Label = styled.div<ISelected>(\n  ({ $text, $bg }) => css`\n    color: ${theme.colors[$text]};\n    background-color: ${theme.colors[$bg]};\n    position: relative;\n    width: 100%;\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    text-align: center;\n    border-radius: 100px;\n    padding: 16px 16px 14px;\n    box-sizing: border-box;\n    user-select: none;\n  `,\n)\n\nconst SelectedOption = styled.span`\n  font-size: 14px;\n  font-weight: bold;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst Container = styled(Box)`\n  position: relative;\n  display: block;\n  width: 210px;\n  height: 48px;\n  text-align: center;\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n`\n\ninterface IOpen {\n  open: boolean\n}\n\nconst OuterContainer = styled.div<IOpen>(\n  ({ open }) => css`\n    position: absolute;\n    width: 100%;\n    border-radius: 12px;\n    margin-top: 8px;\n    display: ${open ? 'block' : 'none'};\n    max-height: ${open ? '235px' : '48px'};\n    background-color: ${theme.colors.custard};\n    overflow-y: ${open ? 'auto' : 'hidden'};\n    z-index: 4;\n    transition: all 0.2s ease-in-out;\n  `,\n)\n","import { ActionDropdown, ActionDropdownProps } from '../ActionDropdown'\n\nimport { Meta, StoryObj } from '@storybook/react'\nimport { fn } from '@storybook/test'\nimport React from 'react'\n\nconst actions: ActionDropdownProps['list'] = [\n  {\n    label: 'Default grey',\n    value: 'DEFAULT',\n    bgColor: 'coconut',\n    textColor: 'liquorice',\n  },\n  {\n    label: 'Brand',\n    value: 'ACTION',\n    bgColor: 'marshmallowPink',\n    textColor: 'liquorice',\n  },\n  {\n    label: 'Medium',\n    value: 'MEDIUM',\n    bgColor: 'lemon',\n    textColor: 'liquorice',\n  },\n  {\n    label: 'High alert',\n    value: 'HIGH_ALERT',\n    bgColor: 'tangerine',\n    textColor: 'cream',\n  },\n  {\n    label: 'Good zone',\n    value: 'GOOD_ZONE',\n    bgColor: 'apple',\n    textColor: 'cream',\n  },\n  {\n    label: 'DANGER zone',\n    value: 'DANGER_ZONE',\n    bgColor: 'strawberry',\n    textColor: 'cream',\n  },\n]\n\nconst meta: Meta<typeof ActionDropdown> = {\n  title: 'Action Dropdown',\n  component: ActionDropdown,\n  args: {\n    list: actions,\n    onSelect: fn(),\n  },\n}\n\nexport default meta\ntype Story = StoryObj<typeof ActionDropdown>\n\nexport const Default: Story = {\n  args: {\n    value: actions[0],\n  },\n  decorators: [\n    (Story) => (\n      <div style={{ margin: '64px' }}>\n        <Story />\n      </div>\n    ),\n  ],\n}\n"],"names":["cov_218jr4lb4s","List","selectOption","s","React","ListItem","onClick","option","cov_l20mjvbvz","actualCoverage","ActionDropdown","className","label","value","list","onSelect","marginProps","setOpen","useState","Container","currentOpen","tag","color","typo","$text","textColor","$bg","createElement","SelectedOption","render","Icon","size","rotate","OuterContainer","open","options","Label","styled","theme","colors","b","actions","bgColor","meta","title","component","args","fn","Default","decorators","Story","margin","parameters","docs","source","originalSource"],"mappings":"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"}