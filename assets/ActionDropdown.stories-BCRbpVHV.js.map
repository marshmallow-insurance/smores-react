{"version":3,"file":"ActionDropdown.stories-BCRbpVHV.js","sources":["../../src/ActionDropdown/List.tsx","../../src/ActionDropdown/ActionDropdown.tsx","../../src/ActionDropdown/storybook/ActionDropdown.stories.tsx"],"sourcesContent":["import { FC } from 'react';\nimport styled from 'styled-components'\n\nimport { darken } from 'polished'\nimport { ColorTypes } from '../ThemeProvider/utils/colourMap'\n\nexport type ActionListItem = {\n  label: string\n  value: string\n  bgColor?: ColorTypes\n  textColor?: ColorTypes\n}\n\ntype Props = {\n  options: ActionListItem[]\n  selectOption: (option: ActionListItem) => void\n}\n\nexport const List: FC<Props> = ({ options, selectOption }) => (\n  <Container>\n    {options.map((option) => (\n      <ListItem key={option.value} onClick={() => selectOption(option)}>\n        {option.label}\n      </ListItem>\n    ))}\n  </Container>\n)\n\nconst Container = styled.ul`\n  padding: 0;\n  margin: 0;\n  max-height: 188px;\n`\n\nconst ListItem = styled.li`\n  padding: 16px 24px;\n  text-align: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  font-size: 14px;\n  cursor: pointer;\n  color: ${({ theme }) => theme.color.surface.base[900]};\n\n  &:hover {\n    background-color: ${({ theme }) =>\n      darken(0.1, theme.color.surface.base[300])};\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n`\n","import { FC, useState } from 'react';\nimport styled, { css, useTheme } from 'styled-components'\n\nimport { Box } from '../Box'\nimport { Icon } from '../Icon'\nimport { Text } from '../Text'\nimport { ActionListItem, List } from './List'\n\nimport { MarginProps } from '../utils/space'\nimport { resolveToThemeColor } from '../ThemeProvider/utils/colourMap'\n\nexport type ActionDropdownProps = {\n  id?: string\n  className?: string\n  /** label displayed above the dropdown  */\n  label?: string\n  /** value */\n  value: ActionListItem\n  /** list of items for the dropdown list */\n  list: ActionListItem[]\n  /** onSelect handler */\n  onSelect: (action: ActionListItem) => void\n} & MarginProps\n\nexport const ActionDropdown: FC<ActionDropdownProps> = ({\n  id,\n  className = '',\n  label,\n  value,\n  list,\n  onSelect,\n  ...marginProps\n}) => {\n  const [open, setOpen] = useState(false)\n\n  const theme = useTheme()\n\n  const resolvedBgColor = resolveToThemeColor(\n    value.bgColor ?? 'color.background.100',\n    theme,\n  )\n  const resolvedTextColor = resolveToThemeColor(\n    value.textColor ?? 'color.text.base',\n    theme,\n  )\n\n  return (\n    <Container\n      id={id}\n      className={className}\n      onClick={() => setOpen((currentOpen) => !currentOpen)}\n      {...marginProps}\n    >\n      {label && (\n        <Text tag=\"label\" color=\"sesame\" typo=\"label\">\n          {label}\n        </Text>\n      )}\n\n      <Label $text={resolvedTextColor} $bg={resolvedBgColor}>\n        <SelectedOption>{value.label}</SelectedOption>\n        <Icon\n          render=\"caret\"\n          color={value.textColor ?? 'color.text.base'}\n          size={24}\n          rotate={open ? 180 : 0}\n        />\n      </Label>\n      <OuterContainer open={open}>\n        <List options={list} selectOption={onSelect} />\n      </OuterContainer>\n    </Container>\n  )\n}\n\ninterface ISelected {\n  $text: string\n  $bg: string\n}\n\nconst Label = styled.div<ISelected>(\n  ({ $text, $bg }) => css`\n    color: ${$text};\n    background-color: ${$bg};\n    position: relative;\n    width: 100%;\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    text-align: center;\n    border-radius: 100px;\n    padding: 16px 16px 14px;\n    box-sizing: border-box;\n    user-select: none;\n  `,\n)\n\nconst SelectedOption = styled.span`\n  font-size: 14px;\n  font-weight: bold;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst Container = styled(Box)`\n  position: relative;\n  display: block;\n  width: 210px;\n  height: 48px;\n  text-align: center;\n  cursor: pointer;\n  outline: none;\n  border-radius: 8px;\n`\n\ninterface IOpen {\n  open: boolean\n}\n\nconst OuterContainer = styled.div<IOpen>(\n  ({ open }) => css`\n    position: absolute;\n    width: 100%;\n    border-radius: 12px;\n    margin-top: 8px;\n    display: ${open ? 'block' : 'none'};\n    max-height: ${open ? '235px' : '48px'};\n    background-color: ${({ theme }) => theme.color.surface.base[300]};\n    overflow-y: ${open ? 'auto' : 'hidden'};\n    z-index: 4;\n    transition: all 0.2s ease-in-out;\n  `,\n)\n","import { ActionDropdown, ActionDropdownProps } from '../ActionDropdown'\n\nimport { Meta, StoryObj } from '@storybook/react'\nimport { fn } from '@storybook/test'\nimport { ActionListItem } from 'ActionDropdown/List'\nimport { useState } from 'react';\n\nconst actions: ActionDropdownProps['list'] = [\n  {\n    label: 'Default grey',\n    value: 'DEFAULT',\n    bgColor: 'color.surface.base.100',\n    textColor: 'color.text.base',\n  },\n  {\n    label: 'Brand',\n    value: 'ACTION',\n    bgColor: 'color.surface.brand.400',\n    textColor: 'color.text.base',\n  },\n  {\n    label: 'Medium',\n    value: 'MEDIUM',\n    bgColor: 'color.feedback.notice.200',\n    textColor: 'color.text.base',\n  },\n  {\n    label: 'High alert',\n    value: 'HIGH_ALERT',\n    bgColor: 'color.feedback.informative.200',\n    textColor: 'color.surface.base.000',\n  },\n  {\n    label: 'Good zone',\n    value: 'GOOD_ZONE',\n    bgColor: 'color.feedback.positive.200',\n    textColor: 'color.surface.base.000',\n  },\n  {\n    label: 'DANGER zone',\n    value: 'DANGER_ZONE',\n    bgColor: 'color.feedback.negative.200',\n    textColor: 'color.surface.base.000',\n  },\n]\n\nconst meta: Meta<typeof ActionDropdown> = {\n  title: 'Action Dropdown',\n  component: ActionDropdown,\n  args: {\n    list: actions,\n    onSelect: fn(),\n  },\n}\n\nexport default meta\ntype Story = StoryObj<typeof ActionDropdown>\n\nexport const Default: Story = {\n  args: {\n    value: {\n      label: 'Default grey',\n      value: 'DEFAULT',\n      bgColor: 'color.surface.base.100',\n      textColor: 'color.text.base',\n    },\n  },\n  render: (args) => {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [value, setValue] = useState<ActionListItem>(actions[0])\n    return <ActionDropdown {...args} value={value} onSelect={setValue} />\n  },\n  decorators: [\n    (Story) => (\n      <div style={{ margin: '64px' }}>\n        <Story />\n      </div>\n    ),\n  ],\n}\n"],"names":["cov_218jr4lb4s","List","options","selectOption","s","map","jsx","ListItem","option","value","theme","color","surface","darken","cov_l20mjvbvz","actualCoverage","ActionDropdown","className","label","list","onSelect","marginProps","setOpen","useTheme","useState","resolvedBgColor","resolvedTextColor","b","resolveToThemeColor","jsxs","Container","onClick","currentOpen","children","tag","Text","typo","$text","$bg","render","Icon","size","rotate","open","OuterContainer","styled","actions","bgColor","textColor","meta","title","component","args","fn","Default","setValue","decorators","Story","margin","parameters","docs","source","originalSource"],"mappings":"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"}