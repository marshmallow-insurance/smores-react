{"version":3,"file":"Modal-CN_wumiM.js","sources":["../../src/Modal/Modal.tsx"],"sourcesContent":["import { FC, ReactNode, useRef } from 'react'\nimport { createPortal } from 'react-dom'\nimport styled, { css, useTheme } from 'styled-components'\n\nimport { Box } from '../Box'\nimport { Text, type TextProps } from '../Text'\nimport { useBodyScrollLock } from '../hooks/useBodyScrollLock'\nimport { IconContainer } from '../sharedStyles/shared.styles'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faXmark } from '@awesome.me/kit-46ca99185c/icons/classic/regular'\n\ninterface IModalContainer {\n  // drawer state\n  $drawer: boolean\n  // modal width\n  $width: string\n}\n\nexport type ModalProps = {\n  /**\n   * Title of the modal\n   * @default \"\" (empty string)\n   *\n   * @example\n   * ```tsx\n   * <Modal title=\"MultiCar Account\" />\n   * ```\n   *\n   * @example\n   * ```tsx\n   * <Modal title={{ typo: 'hero', children: 'MultiCar Account' }} />\n   * ```\n   */\n  title?: string | TitleProps\n  icon?: string\n  children?: ReactNode\n  rightPanel?: ReactNode\n  showModal?: boolean\n  handleClick: () => void\n  drawer?: boolean\n  cross?: boolean\n  width?: string\n  containerClass?: string\n  portalContainer?: Element | DocumentFragment\n  closeOnOverlayClick?: boolean\n}\n\nexport type TitleProps = TextProps\n\nconst getDefaultTitleProps = (title: string): TitleProps => ({\n  children: title,\n  tag: 'h2',\n  typo: 'heading-small',\n  align: 'left',\n})\n\nexport const Modal: FC<ModalProps> = ({\n  title = '',\n  children,\n  rightPanel,\n  showModal = false,\n  handleClick,\n  drawer = true,\n  cross = true,\n  width,\n  containerClass,\n  portalContainer = document.body,\n  closeOnOverlayClick = true,\n}) => {\n  const modalRef = useRef<HTMLDivElement>(null)\n  const theme = useTheme()\n\n  useBodyScrollLock({ node: modalRef.current, showModal })\n\n  const isTitleString = typeof title === 'string'\n  const titleProps = isTitleString ? getDefaultTitleProps(title) : title\n\n  if (!showModal) return null\n\n  return createPortal(\n    <Wrapper ref={modalRef}>\n      <Overlay\n        onClick={() => closeOnOverlayClick && handleClick()}\n        $closeOnOverlayClick={closeOnOverlayClick}\n      />\n      <Container\n        $drawer={drawer}\n        $width={width || '460px'}\n        className={containerClass}\n      >\n        <Box\n          flex\n          alignItems=\"flex-start\"\n          justifyContent=\"space-between\"\n          mb=\"8px\"\n        >\n          <TitleElements flex direction=\"column\">\n            <Text {...titleProps} />\n          </TitleElements>\n          <Box flex alignItems=\"center\" gap={'8px'}>\n            {rightPanel}\n            {cross && (\n              <IconContainer\n                as=\"button\"\n                onClick={handleClick}\n                role=\"button\"\n                title=\"Close modal\"\n                $size={32}\n                style={{\n                  background: theme.color.illustration.neutral[300],\n                  borderRadius: '100%',\n                  padding: '6px',\n                  border: 'none',\n                  cursor: 'pointer',\n                }}\n              >\n                <FontAwesomeIcon icon={faXmark} color={theme.color.icon.base} />\n              </IconContainer>\n            )}\n          </Box>\n        </Box>\n        <Box flex direction=\"column\">\n          {children}\n        </Box>\n      </Container>\n    </Wrapper>,\n    portalContainer,\n  )\n}\n\nconst Wrapper = styled(Box)`\n  display: flex;\n  position: absolute;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Overlay = styled.div<{ $closeOnOverlayClick: boolean }>`\n  position: fixed;\n  background: ${({ theme }) => theme.color.surface.base[900]};\n  cursor: ${(props) => (props.$closeOnOverlayClick ? 'pointer' : 'default')};\n  opacity: 0.4;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n\nconst Container = styled.div<IModalContainer>(\n  ({ $drawer, $width }) => css`\n    background: ${({ theme }) => theme.color.background[100]};\n    box-sizing: border-box;\n    border-radius: 16px;\n    padding: 24px;\n    width: 100%;\n    max-width: ${$width};\n    position: fixed;\n    max-height: calc(100vh - 64px);\n    overflow: auto;\n    transition: all 0.3s ease-in-out;\n\n    ${$drawer === true &&\n    css`\n      @media (max-width: 768px) {\n        max-width: none;\n        border-radius: 16px 16px 0px 0px;\n        padding: 10% 24px;\n        max-height: 90vh;\n\n        position: fixed;\n        right: 0;\n        left: 0;\n        bottom: 0;\n      }\n    `}\n  `,\n)\n\nconst TitleElements = styled(Box)`\n  align-self: center;\n`\n"],"names":["cov_1fthp5m239","actualCoverage","jsxs","getDefaultTitleProps","title","s","children","tag","typo","align","Modal","rightPanel","showModal","handleClick","drawer","cross","width","containerClass","portalContainer","closeOnOverlayClick","theme","useTheme","useBodyScrollLock","current","titleProps","isTitleString","modalRef","Wrapper","jsx","Overlay","Container","$drawer","$width","className","flex","Box","alignItems","justifyContent","mb","TitleElements","direction","gap","as","IconContainer","onClick","role","$size","style","background","borderRadius","padding","border","cursor","icon","FontAwesomeIcon","color","surface","props","$closeOnOverlayClick","styled"],"mappings":"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"}