{"version":3,"file":"Accordion.stories-CJA3lL6w.js","sources":["../../src/Accordion/Accordion.tsx","../../src/Accordion/storybook/Accordion.stories.tsx"],"sourcesContent":["import { FC, ReactNode, useState } from 'react'\nimport styled, { css, useTheme } from 'styled-components'\n\nimport { TransientProps } from 'utils/utilTypes'\nimport { Box } from '../Box'\nimport { Text } from '../Text'\nimport { MarginProps } from '../utils/space'\nimport { NewColor, resolveToThemeColor } from '../ThemeProvider/utils/colourMap'\nimport { IconContainer } from '../sharedStyles/shared.styles'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDown } from '@awesome.me/kit-46ca99185c/icons/classic/regular'\n\ntype UsableNewColors = Extract<\n  NewColor,\n  | 'color.surface.base.000'\n  | 'color.surface.base.100'\n  | 'color.surface.base.300'\n  | 'color.illustration.neutral.300'\n>\n\nexport type AccordionProps = {\n  title: string\n  subTitle?: string\n  filledBackground?: boolean\n  borderTop?: boolean\n  borderColor?: 'oatmeal' | 'custard' | 'cream' | 'coconut' | UsableNewColors\n  fullBorder?: boolean\n  backgroundColor?:\n    | 'oatmeal'\n    | 'custard'\n    | 'cream'\n    | 'coconut'\n    | UsableNewColors\n  onToggle?: (isOpen: boolean) => void\n  children: ReactNode\n  defaultIsOpen?: boolean\n} & MarginProps\n\nexport const Accordion: FC<AccordionProps> = ({\n  title,\n  children,\n  onToggle,\n  filledBackground,\n  defaultIsOpen = false,\n  borderTop = false,\n  borderColor = 'color.illustration.neutral.300',\n  backgroundColor = 'color.surface.base.300',\n  subTitle,\n  fullBorder = false,\n  ...marginProps\n}) => {\n  const theme = useTheme()\n  const [isOpen, setIsOpen] = useState(defaultIsOpen)\n  const px = fullBorder ? '16px' : '0'\n\n  const resolvedBorderColor = resolveToThemeColor(borderColor, theme)\n\n  const resolvedBackgroundColour = resolveToThemeColor(backgroundColor, theme)\n\n  const handleToggle = () => {\n    const nextOpenState = !isOpen\n    onToggle?.(nextOpenState)\n    setIsOpen(nextOpenState)\n  }\n\n  return (\n    <Wrapper\n      $borderTop={borderTop}\n      $fullBorder={fullBorder}\n      $filledBackground={filledBackground}\n      $borderColor={resolvedBorderColor}\n      $backgroundColor={resolvedBackgroundColour}\n      {...marginProps}\n    >\n      <TopContainer\n        flex\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        onClick={handleToggle}\n        py=\"16px\"\n        pr=\"16px\"\n        pl={px}\n      >\n        <TitleContainer>\n          <Text tag=\"h2\" typo=\"headline-regular\">\n            {title}\n          </Text>\n          {subTitle && (\n            <Text tag=\"label\" typo=\"label\" mt={{ custom: 4 }}>\n              {subTitle}\n            </Text>\n          )}\n        </TitleContainer>\n\n        <CaretIcon $size={20} $isOpen={isOpen} $borderTop={borderTop}>\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            color={theme.color.illustration.neutral[400]}\n          />\n        </CaretIcon>\n      </TopContainer>\n      {isOpen && (\n        <Box pt=\"12px\" pb=\"16px\" px={px}>\n          {children}\n        </Box>\n      )}\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled(Box)<\n  TransientProps<\n    Pick<AccordionProps, 'borderTop' | 'fullBorder' | 'filledBackground'>\n  > & { $borderColor: string; $backgroundColor: string }\n>(\n  ({\n    $borderTop,\n    $fullBorder,\n    $filledBackground,\n    $borderColor,\n    $backgroundColor,\n  }) => css`\n    border-bottom: 1px solid ${$borderColor};\n    ${$borderTop && `border-top: 1px solid ${$backgroundColor};`}\n\n    ${$fullBorder &&\n    css`\n      border: 1px solid ${$borderColor};\n      border-radius: 16px;\n    `}\n\n    ${$filledBackground &&\n    css`\n      background-color: ${$backgroundColor};\n    `}\n  `,\n)\n\nconst TitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst TopContainer = styled(Box)`\n  cursor: pointer;\n`\n\nconst CaretIcon = styled(IconContainer)<\n  TransientProps<Pick<AccordionProps, 'borderTop'>> & { $isOpen: boolean }\n>(\n  ({ $isOpen }) => css`\n    transform: ${$isOpen ? 'rotate(180deg)' : 'rotate(0deg)'};\n    transition: transform 0.6s ease;\n  `,\n)\n","import { Meta, StoryObj } from '@storybook/react-vite'\nimport { Box } from '../../Box'\nimport { Accordion } from '../Accordion'\n\nconst colourOptions = [\n  'color.surface.base.000',\n  'color.surface.base.100',\n  'color.surface.base.300',\n  'color.illustration.neutral.300',\n]\n\nconst meta: Meta<typeof Accordion> = {\n  title: 'Accordion',\n  component: Accordion,\n  args: {\n    title: 'How it works',\n    children: 'Lots of brilliant information about this beautiful component',\n  },\n  argTypes: {\n    backgroundColor: {\n      control: 'select',\n      options: colourOptions,\n    },\n    borderColor: {\n      control: 'select',\n      options: colourOptions,\n    },\n  },\n}\n\nexport default meta\ntype Story = StoryObj<typeof Accordion>\n\nexport const Default: Story = {\n  args: {\n    title: 'How it works',\n    children: 'Lots of brilliant information about this beautiful component',\n  },\n}\n\nexport const FilledBackground: Story = {\n  args: {\n    title: 'How it works',\n    children: 'Lots of brilliant information about this beautiful component',\n    filledBackground: true,\n  },\n}\n\nexport const FullBorder: Story = {\n  args: {\n    title: 'How it works',\n    children: 'Lots of brilliant information about this beautiful component',\n    fullBorder: true,\n  },\n}\n\nexport const BorderTop: Story = {\n  args: {\n    title: 'How it works',\n    children: 'Lots of brilliant information about this beautiful component',\n    borderTop: true,\n  },\n}\n\nexport const Stacked: Story = {\n  decorators: [\n    (Story) => (\n      <div style={{ margin: '64px' }}>\n        <Story />\n      </div>\n    ),\n  ],\n  render: (args) => (\n    <Box flex direction=\"column\">\n      <Accordion {...args} {...Default.args} />\n      <Accordion {...args} {...Default.args} />\n      <Accordion {...args} {...Default.args} />\n    </Box>\n  ),\n}\n"],"names":["cov_9t57suemo","actualCoverage","Accordion","children","onToggle","filledBackground","defaultIsOpen","borderTop","borderColor","b","backgroundColor","subTitle","fullBorder","marginProps","theme","setIsOpen","px","resolvedBorderColor","resolveToThemeColor","resolvedBackgroundColour","handleToggle","isOpen","nextOpenState","Wrapper","$fullBorder","$filledBackground","$borderColor","$backgroundColor","flex","jsxs","TopContainer","alignItems","justifyContent","onClick","py","pr","pl","TitleContainer","tag","jsx","Text","typo","mt","custom","$size","$isOpen","$borderTop","icon","FontAwesomeIcon","color","faChevronDown","pt","pb","styled","Box","s","css","colourOptions","meta","title","component","args","argTypes","control","options","Default","FilledBackground","FullBorder","BorderTop","Stacked","decorators","Story","margin","render","parameters","docs","source","originalSource"],"mappings":"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"}