{"version":3,"file":"Snackbar.stories-DMRJTA6L.js","sources":["../../src/Snackbar/SnackbarItem.tsx","../../src/Snackbar/SnackbarContainer.tsx","../../src/Snackbar/hooks.ts","../../src/Snackbar/storybook/Snackbar.stories.tsx"],"sourcesContent":["import { FC } from 'react'\nimport styled, { useTheme } from 'styled-components'\nimport { Box } from '../Box'\nimport { useTimeout } from '../hooks'\nimport { Icon } from '../Icon'\nimport { Text } from '../Text'\nimport { Snackbar } from './types'\nimport { IconContainer } from '../sharedStyles/shared.styles'\n\ninterface Props extends Snackbar {\n  deleteSnack: (id: string) => void\n}\n\nexport const SnackbarItem: FC<Props> = ({\n  autoCloseTime = 4,\n  id,\n  message,\n  leadingIcon,\n  iconComponent,\n  canManuallyClose,\n  showCloseIcon,\n  deleteSnack,\n}) => {\n  useTimeout(() => deleteSnack(id), autoCloseTime * 1000)\n\n  const theme = useTheme()\n  const iconToRender = iconComponent ? (\n    <IconContainer\n      style={{ marginRight: '24px' }}\n      $size={24}\n      $iconColor={theme.color.surface.base[200]}\n    >\n      {iconComponent}\n    </IconContainer>\n  ) : leadingIcon ? (\n    <Icon\n      render={leadingIcon}\n      size={24}\n      color=\"color.surface.base.200\"\n      mr=\"12px\"\n    />\n  ) : null\n\n  return (\n    <SnackItem p=\"16px\" key={id} mt=\"16px\" flex justifyContent=\"space-between\">\n      <Box flex alignItems=\"center\">\n        {iconToRender}\n        <Text typo=\"body-small\" color=\"color.surface.base.200\">\n          {message}\n        </Text>\n      </Box>\n      {canManuallyClose && (\n        <CloseButton\n          onClick={() => deleteSnack(id)}\n          aria-label={`close snackbar ${message}`}\n        >\n          {showCloseIcon ? (\n            <Icon render=\"cross\" size={16} color=\"color.surface.base.200\" />\n          ) : (\n            <UnderlinedText\n              tag=\"span\"\n              typo=\"headline-small\"\n              color=\"color.surface.base.200\"\n            >\n              Dismiss\n            </UnderlinedText>\n          )}\n        </CloseButton>\n      )}\n    </SnackItem>\n  )\n}\n\nconst SnackItem = styled(Box)`\n  border-radius: 16px;\n  background-color: ${({ theme }) => theme.color.surface.base[900]};\n`\n\nconst CloseButton = styled.button`\n  cursor: pointer;\n`\n\nconst UnderlinedText = styled(Text)`\n  text-decoration: underline;\n`\n","import {\n  createContext,\n  FC,\n  useCallback,\n  useContext,\n  useRef,\n  useState,\n} from 'react'\nimport { createPortal } from 'react-dom'\nimport styled from 'styled-components'\nimport { SnackbarItem } from './SnackbarItem'\nimport {\n  CreateSnack,\n  Snackbar,\n  SnackbarContextType,\n  SnackbarContainerProps,\n} from './types'\n\nexport const SnackbarContext = createContext<SnackbarContextType>({\n  addSnackbar: () => {\n    throw new Error('Please add the SnackbarContainer to your application')\n  },\n})\n\nexport const useSnackbarContext = () => useContext(SnackbarContext)\n\nexport const SnackbarContainer: FC<SnackbarContainerProps> = ({\n  children,\n  portalContainer = document.body,\n}) => {\n  const snackbarIdRef = useRef(0)\n  const [snackbars, setSnackbars] = useState<Snackbar[]>([])\n\n  // create snackbar unique ID\n  const newSnackId = useCallback(() => {\n    const newId = `MM_SNACKBAR_${snackbarIdRef.current}`\n    snackbarIdRef.current = +1\n    return newId\n  }, [])\n\n  const addSnackbar = useCallback((snackbar: CreateSnack) => {\n    const newSnack = {\n      ...snackbar,\n      id: newSnackId(),\n    }\n    setSnackbars([...snackbars, newSnack])\n  }, [])\n\n  const deleteSnackbar = (id: string) => {\n    setSnackbars(snackbars.filter((snackbar) => snackbar.id !== id))\n  }\n\n  return (\n    <SnackbarContext.Provider\n      value={{\n        addSnackbar,\n      }}\n    >\n      {children}\n      {createPortal(\n        <SnackbarWrapper>\n          {snackbars.map((snackbar) => (\n            <SnackbarItem\n              key={snackbar.id}\n              {...snackbar}\n              deleteSnack={deleteSnackbar}\n            />\n          ))}\n        </SnackbarWrapper>,\n        portalContainer,\n      )}\n    </SnackbarContext.Provider>\n  )\n}\n\nconst SnackbarWrapper = styled.div`\n  position: fixed;\n  bottom: 35px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 90%;\n  max-width: 875px;\n  z-index: 1000;\n`\n","import { useSnackbarContext } from './SnackbarContainer'\n\nexport const useSnackbar = () => {\n  const { addSnackbar } = useSnackbarContext()\n\n  return { addSnackbar }\n}\n","import { Meta, StoryObj } from '@storybook/react-vite'\nimport { FC, useState } from 'react'\nimport { Button } from '../../Button'\nimport { Modal } from '../../Modal'\nimport { Text } from '../../Text'\nimport { SnackbarContainer } from '../SnackbarContainer'\nimport { useSnackbar } from '../hooks'\n\n/**\n *\n * The Snackbar component is used to display short, non-disruptive messages to users.\n *\n * ## Implementation Details\n *\n * The Snackbar component uses React Portal to render outside the normal DOM hierarchy. This allows it to properly overlay all other components, including Modals, that also use portals.\n *\n * ## Usage\n *\n * ```tsx\n * import { SnackbarContainer, useSnackbar } from '@mrshmllw/smores-react'\n *\n * // Wrap your application with the SnackbarContainer\n * const App = () => {\n *   return (\n *     <SnackbarContainer>\n *       <YourAppContent />\n *     </SnackbarContainer>\n *   )\n * }\n * ```\n *\n * ## Working with Modals\n *\n * Snackbars now properly overlay Modals thanks to the React Portal implementation. The Snackbar will appear centered directly over the modal content. Here's an example showing both components together:\n *\n * ```tsx\n * import { SnackbarContainer, useSnackbar, Modal, Button, Text } from '@mrshmllw/smores-react'\n * import { useState } from 'react'\n *\n * const App = () => (\n *   <SnackbarContainer>\n *     <PageWithModalAndSnackbar />\n *   </SnackbarContainer>\n * )\n *\n * const PageWithModalAndSnackbar = () => {\n *   const { addSnackbar } = useSnackbar()\n *   const [showModal, setShowModal] = useState(false)\n *\n *   return (\n *     <>\n *       <Button primary onClick={() => setShowModal(true)} mr=\"16px\">\n *         Open Modal\n *       </Button>\n *       <Button\n *         secondary\n *         onClick={() => {\n *           // This snackbar will appear centered directly over the modal\n *           addSnackbar({\n *             leadingIcon: 'warning',\n *             message: 'Important notification!',\n *             canManuallyClose: true,\n *           })\n *         }}\n *       >\n *         Show Snackbar\n *       </Button>\n *\n *       <Modal\n *         title=\"Sample Modal\"\n *         showModal={showModal}\n *         handleClick={() => setShowModal(false)}\n *       >\n *         <Text>\n *           Click the \"Show Snackbar\" button to see how the snackbar\n *           appears centered directly over this modal.\n *         </Text>\n *       </Modal>\n *     </>\n *   )\n * }\n * ```\n */\nconst meta: Meta<typeof SnackbarContainer> = {\n  title: 'Snackbar',\n  component: SnackbarContainer,\n  decorators: [\n    (Story) => (\n      <div style={{ margin: '64px' }}>\n        <Story />\n      </div>\n    ),\n  ],\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof SnackbarContainer>\n\nconst ChildComponent: FC = () => {\n  const { addSnackbar } = useSnackbar()\n\n  return (\n    <>\n      <Button\n        primary\n        onClick={() => {\n          addSnackbar({\n            leadingIcon: 'tick',\n            message: 'Hello there general Kenobi',\n            canManuallyClose: true,\n          })\n        }}\n      >\n        Click me to add a snack!\n      </Button>\n    </>\n  )\n}\n\nexport const Default: Story = {\n  render: () => (\n    <SnackbarContainer>\n      <ChildComponent />\n    </SnackbarContainer>\n  ),\n}\n\nconst WithModalComponent: FC = () => {\n  const { addSnackbar } = useSnackbar()\n  const [showModal, setShowModal] = useState(false)\n\n  return (\n    <>\n      <Button primary onClick={() => setShowModal(true)} mr=\"16px\">\n        Open Modal\n      </Button>\n\n      <Modal\n        title=\"Test Modal\"\n        showModal={showModal}\n        handleClick={() => setShowModal(false)}\n      >\n        <Text mb=\"16px\">\n          This is a test modal. Try clicking the \"Add Snackbar\" button to see\n          how the snackbar appears centered directly over this modal content.\n        </Text>\n        <Button\n          secondary\n          onClick={() => {\n            addSnackbar({\n              leadingIcon: 'warning',\n              message: 'This snackbar appears centered over the modal!',\n              canManuallyClose: true,\n              autoCloseTime: 10,\n            })\n          }}\n        >\n          Add Snackbar\n        </Button>\n      </Modal>\n    </>\n  )\n}\n\nexport const WithModal: Story = {\n  render: () => (\n    <SnackbarContainer>\n      <WithModalComponent />\n    </SnackbarContainer>\n  ),\n}\n"],"names":["cov_21sm2q5wpa","actualCoverage","jsxs","SnackbarItem","autoCloseTime","id","message","leadingIcon","iconComponent","canManuallyClose","showCloseIcon","deleteSnack","s","useTimeout","iconToRender","useTheme","style","jsx","IconContainer","marginRight","$size","$iconColor","children","render","Icon","size","color","mr","SnackItem","mt","flex","justifyContent","Box","alignItems","typo","Text","onClick","CloseButton","tag","UnderlinedText","theme","surface","cov_1sn98x8w8z","addSnackbar","createContext","f","Error","useSnackbarContext","useContext","SnackbarContext","SnackbarContainer","portalContainer","snackbarIdRef","setSnackbars","newSnackId","useCallback","useState","current","newId","snackbar","snackbars","newSnack","deleteSnackbar","createPortal","SnackbarWrapper","cov_29t2fklua7","useSnackbar","meta","title","component","decorators","Story","margin","parameters","docs","description","ChildComponent","Button","Default","WithModalComponent","showModal","setShowModal","Fragment","Modal","WithModal","source","originalSource"],"mappings":"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"}