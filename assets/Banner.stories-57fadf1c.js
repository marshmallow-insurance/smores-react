import{s as d,A as $,j as a,a as e,F as j}from"./styled-components.browser.esm-1fe49baf.js";import{r as x}from"./index-1b03fe98.js";import{B as t}from"./Box-3f7820e1.js";import{I as B}from"./Icon-9ec719dc.js";import{t as m}from"./theme-9a9bdd1b.js";import{T as v}from"./Text-33ea17e2.js";import{u as z}from"./index-38187b74.js";import{B as c}from"./Button-29799194.js";import"./polished.esm-b6220ab2.js";import"./focusOutline-fc5530b3.js";import"./Loader-4d853a84.js";const w={upsell:{iconColor:"liquorice",backgroundColor:m.colors.marshmallowPink,textColor:"liquorice"},critical:{iconColor:"mascarpone",backgroundColor:m.colors.strawberry,textColor:"mascarpone"},general:{iconColor:"mascarpone",backgroundColor:m.colors.liquorice,textColor:"mascarpone"},success:{iconColor:"mascarpone",backgroundColor:m.colors.apple,textColor:"mascarpone"}},I=({type:r,autoCloseTime:o=4,id:l,message:i,topOffset:h,exploreAction:p,showExploreText:y,showExploreIcon:n,leadingIcon:s,canManuallyClose:O,showCloseIcon:A,deleteBanner:_,noTimeout:N})=>{const S=()=>{if(!N&&r!=="critical")return _(l)};z(()=>S(),o*1e3);const g=w[r].textColor,b=w[r].iconColor;return a(G,{p:"24px",mt:{custom:h},flex:!0,justifyContent:"space-between",type:r,children:[a(t,{flex:!0,alignItems:"center",children:[s&&e(B,{mr:"12px",render:s,size:24,color:b}),e(v,{typo:"headline-small",color:g,children:i})]}),a(t,{flex:!0,alignItems:"center",children:[O&&e(k,{onClick:()=>_(l),"aria-label":`close banner ${i}`,children:A?e(B,{render:"cross",size:16,color:b}):e(q,{tag:"span",typo:"desc-medium",color:g,children:"Dismiss"})}),p&&e(k,{onClick:p,"aria-label":`cta ${i}`,children:a(t,{flex:!0,alignItems:"center",children:[y&&e(q,{ml:"12px",tag:"span",typo:"desc-medium",color:g,children:"Explore"}),n&&e(B,{render:"arrow",ml:"12px",size:24,color:b,rotate:180})]})})]})]},l)},G=d(t)(({type:r})=>$`
    border-radius: 0px 0px 16px 16px;
    background-color: ${w[r].backgroundColor};
  `),k=d.button`
  cursor: pointer;
`,q=d(v)`
  text-decoration: underline;
`;try{I.displayName="BannerItem",I.__docgenInfo={description:"",displayName:"BannerItem",props:{deleteBanner:{defaultValue:null,description:"",name:"deleteBanner",required:!0,type:{name:"(id: string) => void"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"upsell"'},{value:'"critical"'},{value:'"general"'}]}},topOffset:{defaultValue:null,description:"",name:"topOffset",required:!0,type:{name:"string"}},exploreAction:{defaultValue:null,description:"",name:"exploreAction",required:!1,type:{name:"(() => void)"}},showExploreText:{defaultValue:null,description:"",name:"showExploreText",required:!1,type:{name:"boolean"}},showExploreIcon:{defaultValue:null,description:"",name:"showExploreIcon",required:!1,type:{name:"boolean"}},autoCloseTime:{defaultValue:{value:"4"},description:"",name:"autoCloseTime",required:!1,type:{name:"enum",value:[{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}]}},leadingIcon:{defaultValue:null,description:"",name:"leadingIcon",required:!1,type:{name:"string"}},canManuallyClose:{defaultValue:null,description:"",name:"canManuallyClose",required:!1,type:{name:"boolean"}},showCloseIcon:{defaultValue:null,description:"",name:"showCloseIcon",required:!1,type:{name:"boolean"}},noTimeout:{defaultValue:null,description:"",name:"noTimeout",required:!1,type:{name:"boolean"}}}}}catch{}const M=x.createContext({addBanner:()=>{throw new Error("Please add the BannerContainer to your application")}}),D=()=>x.useContext(M),C=({children:r})=>{let o=0;const[l,i]=x.useState([]),h=x.useCallback(()=>{const n=`MM_BANNER_${o}`;return o++,n},[o]),p=n=>{const s={...n,id:h()};i([s])},y=n=>{i(l.filter(s=>s.id!==n))};return a(M.Provider,{value:{addBanner:p},children:[r,e(F,{children:l.map(n=>e(I,{...n,deleteBanner:y},n.id))})]})},F=d.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 99;
`;try{C.displayName="BannerContainer",C.__docgenInfo={description:"",displayName:"BannerContainer",props:{}}}catch{}const P=()=>{const{addBanner:r}=D();return{addBanner:r}},oe={title:"BannerContainer",component:C},R=()=>{const{addBanner:r}=P();return a(t,{children:[e(u,{label:"Generic",children:e(c,{primary:!0,onClick:()=>{r({type:"general",topOffset:"64px",leadingIcon:"wellbeing",message:"Free insurance for 1 month for all our customers",exploreAction:()=>{},showExploreText:!0,canManuallyClose:!0})},children:"General banner"})}),e(u,{label:"Upsell",children:e(c,{primary:!0,onClick:()=>{r({type:"upsell",topOffset:"64px",leadingIcon:"circle-tick",message:"Get up to Â£19.34 off your plan today",exploreAction:()=>{},showExploreIcon:!0})},children:"Upsell banner"})}),e(u,{label:"Success",children:e(c,{primary:!0,onClick:()=>{r({type:"success",topOffset:"64px",leadingIcon:"circle-tick",message:"Marshmallow Miles discount applied"})},children:"Success banner"})}),e(u,{label:"Critical",children:e(c,{primary:!0,onClick:()=>{r({type:"critical",topOffset:"64px",leadingIcon:"card",message:"Your card needs to be updated",canManuallyClose:!0})},children:"Critical banner"})}),e(u,{label:"Success (do not auto close)",children:e(c,{primary:!0,onClick:()=>{r({type:"success",topOffset:"64px",leadingIcon:"circle-tick",message:"Marshmallow Miles discount applied (no timeout)",noTimeout:!0})},children:"Success banner (no timeout)"})})]})},U=()=>e(j,{children:e(C,{children:e(R,{})})}),f=U.bind({}),u=({label:r,children:o})=>a(W,{mt:"16px",children:[e(t,{width:"140px",children:e(v,{tag:"span",typo:"label-large",children:r})}),o]}),W=d(t)`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 16px;
`;var T,V,E;f.parameters={...f.parameters,docs:{...(T=f.parameters)==null?void 0:T.docs,source:{originalSource:`() => {
  return <>
      <BannerContainer>
        <ChildComponent />
      </BannerContainer>
    </>;
}`,...(E=(V=f.parameters)==null?void 0:V.docs)==null?void 0:E.source}}};const ae=["Default"];export{f as Default,ae as __namedExportsOrder,oe as default};
//# sourceMappingURL=Banner.stories-57fadf1c.js.map
