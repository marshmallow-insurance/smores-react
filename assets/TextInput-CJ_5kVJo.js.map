{"version":3,"file":"TextInput-CJ_5kVJo.js","sources":["../../src/TextInput/TextInput.tsx"],"sourcesContent":["import {\n  FocusEvent,\n  AnimationEvent,\n  FormEvent,\n  ForwardedRef,\n  forwardRef,\n  HTMLInputAutoCompleteAttribute,\n} from 'react'\n\nimport { Box } from '../Box'\nimport { Field } from '../fields/Field'\nimport { CommonFieldProps } from '../fields/commonFieldTypes'\nimport {\n  Input,\n  InputLeadingIconContainer,\n  StyledFrontIcon,\n  StyledTrailingIcon,\n} from '../fields/components/CommonInput'\nimport { useUniqueId } from '../utils/id'\nimport { useTheme } from 'styled-components'\n\ninterface Props extends CommonFieldProps {\n  type?: 'text' | 'email' | 'password' | 'time' | 'date' | 'tel'\n  placeholder: string\n  name?: string\n  value: string\n  onBlur?: (e: FocusEvent<HTMLInputElement>) => void\n  /**\n   * Triggers after animation end (animation duration is 2s),\n   * the animation starts when a user selects or hovers over an autofill option\n   */\n  onAutoFill?: () => void\n}\n\ntype InputMode = 'text' | 'email' | 'numeric'\n\n/** on change or on input required */\ntype InputProps = (\n  | {\n      /** on change is required and on input optional */\n      onChange: (e: string) => void\n      onInputChange?: (e: FormEvent<HTMLInputElement>) => void\n    }\n  | {\n      /** on input is required and on change optional */\n      onChange?: (e: string) => void\n      onInputChange: (e: FormEvent<HTMLInputElement>) => void\n    }\n) & {\n  autoCompleteAttr?: HTMLInputAutoCompleteAttribute\n  inputModeAttr?: InputMode\n}\n\nexport type TextInputProps = Props & InputProps\n\n/**\n * A reusable TextInput component that supports various input types, custom styling, icons,\n * and autofill detection.\n *\n * ### Caveats:\n * - `onAutoFill` triggers after animation end (animation duration is 2s),\n * the animation starts when a user selects or hovers over an autofill option\n */\nexport const TextInput = forwardRef(function TextInput(\n  {\n    id: idProp,\n    type = 'text',\n    placeholder,\n    name,\n    value,\n    error = false,\n    onBlur,\n    onChange,\n    onInputChange,\n    onAutoFill,\n    disabled = false,\n    frontIcon,\n    frontIconComponent,\n    trailingIconComponent,\n    trailingIcon,\n    fallbackStyle,\n    autoCompleteAttr = 'off',\n    inputModeAttr,\n    ...fieldProps\n  }: TextInputProps,\n  ref: ForwardedRef<HTMLInputElement>,\n) {\n  const id = useUniqueId(idProp)\n  const theme = useTheme()\n\n  const handleAnimationEnd = (e: AnimationEvent<HTMLInputElement>) => {\n    if (e.animationName === 'onAutoFillStart' && onAutoFill && !!value) {\n      onAutoFill()\n    }\n  }\n\n  const frontIconToRender = frontIconComponent ? (\n    <InputLeadingIconContainer $size={20} $iconColor={theme.color.text.subtle}>\n      {frontIconComponent}\n    </InputLeadingIconContainer>\n  ) : frontIcon ? (\n    <StyledFrontIcon\n      $disabled={disabled}\n      render={frontIcon}\n      color=\"color.icon.base\"\n    />\n  ) : null\n\n  const trailingIconToRender = trailingIconComponent ? (\n    <InputLeadingIconContainer $size={20} $iconColor={theme.color.text.subtle}>\n      {trailingIconComponent}\n    </InputLeadingIconContainer>\n  ) : trailingIcon ? (\n    <StyledTrailingIcon\n      $disabled={disabled}\n      render={trailingIcon}\n      color=\"color.icon.base\"\n    />\n  ) : null\n\n  return (\n    <Field {...fieldProps} htmlFor={id} error={error}>\n      <Box flex alignItems=\"center\" justifyContent=\"flex-start\">\n        {frontIconToRender && frontIconToRender}\n        <Input\n          disabled={disabled}\n          type={type}\n          id={id}\n          name={name}\n          ref={ref}\n          onAnimationEnd={handleAnimationEnd}\n          placeholder={placeholder}\n          value={value}\n          $error={error}\n          $frontIcon={Boolean(frontIconToRender)}\n          $fallbackStyle={fallbackStyle}\n          autoComplete={autoCompleteAttr}\n          onChange={(e: FormEvent<HTMLInputElement>) => {\n            onChange?.(e.currentTarget.value)\n            onInputChange?.(e)\n          }}\n          onBlur={onBlur}\n          inputMode={inputModeAttr}\n        />\n        {trailingIconToRender && trailingIconToRender}\n      </Box>\n    </Field>\n  )\n})\n"],"names":["cov_1ig37uwd6k","actualCoverage","jsxs","TextInput","forwardRef","type","idProp","placeholder","name","value","error","onBlur","onChange","onInputChange","onAutoFill","disabled","frontIcon","frontIconComponent","trailingIconComponent","trailingIcon","fallbackStyle","autoCompleteAttr","inputModeAttr","theme","s","useUniqueId","useTheme","handleAnimationEnd","e","b","$size","jsx","InputLeadingIconContainer","$iconColor","children","$disabled","StyledFrontIcon","render","color","StyledTrailingIcon","Field","htmlFor","id","flex","Box","alignItems","justifyContent","frontIconToRender","Input","ref","onAnimationEnd","$error","$frontIcon","$fallbackStyle","autoComplete","currentTarget","inputMode","trailingIconToRender"],"mappings":"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"}