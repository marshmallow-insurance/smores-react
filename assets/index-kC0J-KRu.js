import{r as h}from"./index-F2Fta7eo.js";function b(o){if(Array.isArray(o)){for(var e=0,n=Array(o.length);e<o.length;e++)n[e]=o[e];return n}else return Array.from(o)}var m=!1;if(typeof window<"u"){var p={get passive(){m=!0}};window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}var s=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),r=[],a=!1,v=-1,d=void 0,c=void 0,A=void 0,w=function(e){return r.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},f=function(e){var n=e||window.event;return w(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},C=function(e){if(A===void 0){var n=!!e&&e.reserveScrollBarGap===!0,i=window.innerWidth-document.documentElement.clientWidth;if(n&&i>0){var l=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);A=document.body.style.paddingRight,document.body.style.paddingRight=l+i+"px"}}d===void 0&&(d=document.body.style.overflow,document.body.style.overflow="hidden")},g=function(){A!==void 0&&(document.body.style.paddingRight=A,A=void 0),d!==void 0&&(document.body.style.overflow=d,d=void 0)},S=function(){return window.requestAnimationFrame(function(){if(c===void 0){c={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,n=e.scrollY,i=e.scrollX,l=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-n,document.body.style.left=-i,setTimeout(function(){return window.requestAnimationFrame(function(){var u=l-window.innerHeight;u&&n>=l&&(document.body.style.top=-(n+u))})},300)}})},B=function(){if(c!==void 0){var e=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10);document.body.style.position=c.position,document.body.style.top=c.top,document.body.style.left=c.left,window.scrollTo(n,e),c=void 0}},M=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},E=function(e,n){var i=e.targetTouches[0].clientY-v;return w(e.target)?!1:n&&n.scrollTop===0&&i>0||M(n)&&i<0?f(e):(e.stopPropagation(),!0)},I=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!r.some(function(l){return l.targetElement===e})){var i={targetElement:e,options:n||{}};r=[].concat(b(r),[i]),s?S():C(n),s&&(e.ontouchstart=function(l){l.targetTouches.length===1&&(v=l.targetTouches[0].clientY)},e.ontouchmove=function(l){l.targetTouches.length===1&&E(l,e)},a||(document.addEventListener("touchmove",f,m?{passive:!1}:void 0),a=!0))}},T=function(){s&&(r.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),a&&(document.removeEventListener("touchmove",f,m?{passive:!1}:void 0),a=!1),v=-1),s?B():g(),r=[]},k=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}r=r.filter(function(n){return n.targetElement!==e}),s&&(e.ontouchstart=null,e.ontouchmove=null,a&&r.length===0&&(document.removeEventListener("touchmove",f,m?{passive:!1}:void 0),a=!1)),s?B():g()};function t(){var o="/home/runner/work/smores-react/smores-react/src/hooks/useBodyScrollLock/index.ts",e="31d530c83331191681d608b679c707af381452f7",n=globalThis,i="__coverage__",l={path:"/home/runner/work/smores-react/smores-react/src/hooks/useBodyScrollLock/index.ts",statementMap:{0:{start:{line:7,column:33},end:{line:13,column:1}},1:{start:{line:8,column:2},end:{line:11,column:5}},2:{start:{line:10,column:26},end:{line:10,column:30}},3:{start:{line:12,column:2},end:{line:12,column:51}},4:{start:{line:18,column:2},end:{line:20,column:9}},5:{start:{line:19,column:4},end:{line:19,column:43}},6:{start:{line:19,column:17},end:{line:19,column:42}},7:{start:{line:21,column:2},end:{line:28,column:24}},8:{start:{line:22,column:4},end:{line:22,column:30}},9:{start:{line:22,column:23},end:{line:22,column:30}},10:{start:{line:23,column:4},end:{line:27,column:5}},11:{start:{line:24,column:6},end:{line:24,column:37}},12:{start:{line:26,column:6},end:{line:26,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:33},end:{line:7,column:34}},loc:{start:{line:7,column:43},end:{line:13,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:20},end:{line:10,column:21}},loc:{start:{line:10,column:26},end:{line:10,column:30}},line:10},2:{name:"useBodyScrollLock",decl:{start:{line:14,column:16},end:{line:14,column:33}},loc:{start:{line:17,column:3},end:{line:29,column:1}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:18,column:12},end:{line:18,column:13}},loc:{start:{line:18,column:18},end:{line:20,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:19,column:11},end:{line:19,column:12}},loc:{start:{line:19,column:17},end:{line:19,column:42}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:18},end:{line:28,column:3}},line:21}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:22,column:30}},type:"if",locations:[{start:{line:22,column:4},end:{line:22,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},1:{loc:{start:{line:23,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:27,column:5}},{start:{line:25,column:11},end:{line:27,column:5}}],line:23}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/smores-react/smores-react/src/hooks/useBodyScrollLock/index.ts"],names:[],mappings:"AAAA,SAAS,iBAAiB;AAC1B;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAEP,MAAM,2BAA2B,CAAC,SAAgC;AAChE,oBAAkB,MAAM;AAAA,IACtB,qBAAqB;AAAA,IACrB,gBAAgB,MAAM;AAAA,EACxB,CAAC;AAED,WAAS,KAAK,MAAM,MAAM,IAAI,OAAO,OAAO;AAC9C;AAEO,gBAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AACF,GAGG;AACD,YAAU,MAAM;AACd,WAAO,MAAM,wBAAwB;AAAA,EACvC,GAAG,CAAC,CAAC;AAEL,YAAU,MAAM;AACd,QAAI,SAAS,KAAM;AAEnB,QAAI,WAAW;AACb,+BAAyB,IAAI;AAAA,IAC/B,OAAO;AACL,uBAAiB,IAAI;AAAA,IACvB;AAAA,EACF,GAAG,CAAC,MAAM,SAAS,CAAC;AACtB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"31d530c83331191681d608b679c707af381452f7"},u=n[i]||(n[i]={});(!u[o]||u[o].hash!==e)&&(u[o]=l);var y=u[o];return t=function(){return y},y}t();t().s[0]++;const L=o=>{t().f[0]++,t().s[1]++,I(o,{reserveScrollBarGap:!0,allowTouchMove:()=>(t().f[1]++,t().s[2]++,!0)}),t().s[3]++,document.body.style.top=`-${window.scrollY}px`};function P({node:o,showModal:e}){t().f[2]++,t().s[4]++,h.useEffect(()=>(t().f[3]++,t().s[5]++,()=>(t().f[4]++,t().s[6]++,T())),[]),t().s[7]++,h.useEffect(()=>{if(t().f[5]++,t().s[8]++,o===null){t().b[0][0]++,t().s[9]++;return}else t().b[0][1]++;t().s[10]++,e?(t().b[1][0]++,t().s[11]++,L(o)):(t().b[1][1]++,t().s[12]++,k(o))},[o,e])}export{P as u};
//# sourceMappingURL=index-kC0J-KRu.js.map
