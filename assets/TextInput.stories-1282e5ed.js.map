{"version":3,"file":"TextInput.stories-1282e5ed.js","sources":["../../src/TextInput/TextInput.tsx","../../src/TextInput/Container.tsx","../../src/TextInput/Collection.tsx"],"sourcesContent":["import React, { FocusEvent, FormEvent, forwardRef, ForwardedRef } from 'react'\n\nimport { Field } from '../fields/Field'\nimport { CommonFieldProps } from '../fields/commonFieldTypes'\nimport { Box } from '../Box'\nimport { useUniqueId } from '../utils/id'\nimport {\n  Input,\n  StyledFrontIcon,\n  StyledTrailingIcon,\n} from '../fields/components/CommonInput'\n\ninterface Props extends CommonFieldProps {\n  type?: 'text' | 'email' | 'password' | 'time' | 'date' | 'tel'\n  placeholder: string\n  name?: string\n  value: string\n  onBlur?: (e: FocusEvent<HTMLInputElement>) => void\n}\n\n/** on change or on input required */\ntype InputProps =\n  | {\n      /** on change is required and on input optional */\n      onChange: (e: string) => void\n      onInputChange?: (e: FormEvent<HTMLInputElement>) => void\n    }\n  | {\n      /** on input is required and on change optional */\n      onChange?: (e: string) => void\n      onInputChange: (e: FormEvent<HTMLInputElement>) => void\n    }\n\nexport type TextInputProps = Props & InputProps\n\nexport const TextInput = forwardRef(function TextInput(\n  {\n    id: idProp,\n    type = 'text',\n    placeholder,\n    name,\n    value,\n    error = false,\n    onBlur,\n    onChange,\n    onInputChange,\n    disabled = false,\n    frontIcon,\n    trailingIcon,\n    fallbackStyle,\n    ...fieldProps\n  }: TextInputProps,\n  ref: ForwardedRef<HTMLInputElement>,\n) {\n  const id = useUniqueId(idProp)\n\n  return (\n    <Field {...fieldProps} htmlFor={id} error={error}>\n      <Box flex alignItems=\"center\" justifyContent=\"flex-start\">\n        {frontIcon && (\n          <StyledFrontIcon\n            disabled={disabled}\n            render={frontIcon}\n            color=\"sesame\"\n          />\n        )}\n        <Input\n          disabled={disabled}\n          type={type}\n          id={id}\n          name={name}\n          ref={ref}\n          placeholder={placeholder}\n          value={value}\n          error={error}\n          frontIcon={frontIcon}\n          fallbackStyle={fallbackStyle}\n          autoComplete=\"off\"\n          onChange={(e: FormEvent<HTMLInputElement>) => {\n            onChange && onChange(e.currentTarget.value)\n            onInputChange && onInputChange(e)\n          }}\n          onBlur={onBlur}\n        />\n        {trailingIcon && (\n          <StyledTrailingIcon\n            disabled={disabled}\n            render={trailingIcon}\n            color=\"sesame\"\n          />\n        )}\n      </Box>\n    </Field>\n  )\n})\n","import React, { useState } from 'react'\nimport { TextInput } from './TextInput'\n\nexport const Container = () => {\n  const [value, setValue] = useState('')\n\n  return (\n    <form>\n      <TextInput\n        id=\"textInput\"\n        label=\"label\"\n        name=\"textInput\"\n        onChange={setValue}\n        placeholder=\"Placeholder\"\n        error={value.length > 7}\n        errorMsg=\"Value is over 7 characters!\"\n        trailingIcon=\"at\"\n        value={value}\n      />\n    </form>\n  )\n}\n","import React, { FC, ReactNode, useState } from 'react'\nimport styled from 'styled-components'\n\nimport { Text } from '../Text'\nimport { Box } from '../Box'\nimport { TextInput, TextInputProps } from './TextInput'\nimport { noop } from '../utils/noop'\nimport { SupportMessage } from '../SupportMessage'\n\nconst variationList: TextInputProps[] = [\n  {\n    id: 'days',\n    placeholder: 'Enter name...',\n    errorMsg: 'This field is required',\n    assistiveText: (\n      <>\n        This is a description with a{' '}\n        <a href=\"marshmallow.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n          link\n        </a>\n        .\n      </>\n    ),\n    label: 'First name',\n    onChange: noop,\n    onInputChange: noop,\n    onBlur: noop,\n    value: '',\n  },\n]\n\nexport const CollectionPage: FC = () => {\n  const [, setValue] = useState('')\n\n  return (\n    <Box flex direction=\"column\">\n      {variationList.map(\n        ({ id, placeholder, errorMsg, label, assistiveText }) => {\n          return (\n            <Box key={id} flex direction=\"column\" mb=\"32px\">\n              <Title tag=\"span\" typo=\"header-medium\">\n                TextInput variations\n              </Title>\n              <Row label=\"Generic\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  placeholder={placeholder}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"With label as title\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  renderAsTitle\n                  placeholder={placeholder}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Fallback\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  placeholder={placeholder}\n                  fallbackStyle={true}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Disabled\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  placeholder={placeholder}\n                  disabled={true}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Disabled Fallback\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  placeholder={placeholder}\n                  disabled={true}\n                  onChange={setValue}\n                  fallbackStyle\n                />\n              </Row>\n              <Row label=\"Required\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  required={true}\n                  placeholder={placeholder}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Leading Icon\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  frontIcon=\"search\"\n                  value=\"\"\n                  placeholder={placeholder}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Trailing Icon\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  trailingIcon=\"car\"\n                  value=\"\"\n                  placeholder={placeholder}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Assistive text\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  placeholder={placeholder}\n                  assistiveText=\"Some assistive text\"\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"With label as title and assistive text with link\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  renderAsTitle\n                  assistiveText={assistiveText}\n                  placeholder={placeholder}\n                  error={false}\n                  completed={true}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Completed\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  placeholder={placeholder}\n                  error={false}\n                  completed={true}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"As title\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  renderAsTitle={true}\n                  placeholder={placeholder}\n                  error={false}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Error\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  value=\"\"\n                  required={true}\n                  placeholder={placeholder}\n                  assistiveText=\"Some assistive text\"\n                  error={true}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"React element error\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  required={true}\n                  value=\"\"\n                  placeholder={placeholder}\n                  error={true}\n                  errorMsg={\n                    <SupportMessage type=\"warning\" description=\"error!!\" />\n                  }\n                  onChange={setValue}\n                />\n              </Row>\n              <Row label=\"Fallback Error\">\n                <TextInput\n                  id={id}\n                  label={label}\n                  required={true}\n                  value=\"\"\n                  placeholder={placeholder}\n                  fallbackStyle={true}\n                  error={true}\n                  errorMsg={errorMsg}\n                  onChange={setValue}\n                />\n              </Row>\n            </Box>\n          )\n        },\n      )}\n    </Box>\n  )\n}\n\nconst Row: FC<{ label: string; children?: ReactNode }> = ({\n  label,\n  children,\n}) => {\n  return (\n    <RowWrapper mt=\"32px\">\n      <Box width=\"140px\">\n        <Text tag=\"span\" typo=\"label-large\">\n          {label}\n        </Text>\n      </Box>\n      {children}\n    </RowWrapper>\n  )\n}\n\nconst RowWrapper = styled(Box)`\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n`\n\nconst LABEL_WIDTH = '140px'\n\nconst Title = styled(Text)`\n  margin-bottom: 12px;\n  font-size: 18px;\n  line-height: 20px;\n  margin-left: ${LABEL_WIDTH};\n`\n"],"names":["TextInput","forwardRef","idProp","type","placeholder","name","value","error","onBlur","onChange","onInputChange","disabled","frontIcon","trailingIcon","fallbackStyle","fieldProps","ref","id","useUniqueId","jsx","Field","jsxs","Box","StyledFrontIcon","Input","e","StyledTrailingIcon","Container","setValue","useState","variationList","Fragment","noop","CollectionPage","errorMsg","label","assistiveText","Title","Row","SupportMessage","children","RowWrapper","Text","styled","LABEL_WIDTH"],"mappings":"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"}