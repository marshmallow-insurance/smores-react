{"version":3,"file":"Textarea.stories-D7q6DRM2.js","sources":["../../src/Textarea/Textarea.tsx","../../src/Textarea/storybook/Textarea.stories.tsx"],"sourcesContent":["import React, { FocusEvent, FormEvent, ForwardedRef, forwardRef } from 'react'\nimport styled from 'styled-components'\n\nimport { Field } from '../fields/Field'\nimport { CommonFieldProps } from '../fields/commonFieldTypes'\nimport { theme } from '../theme'\nimport { useUniqueId } from '../utils/id'\nimport { MarginProps } from '../utils/space'\n\ntype BaseProps = {\n  id?: string\n  placeholder?: string\n  name?: string\n  value: string\n  error?: boolean\n  errorMsg?: string\n  resize?: 'none' | 'both'\n  disabled?: boolean\n  maxLength?: number\n  onBlur?: (e: FocusEvent<HTMLTextAreaElement>) => void\n  rows?: number\n  fallbackStyle?: boolean\n} & CommonFieldProps &\n  MarginProps\n\ntype TruncateProps =\n  | {\n      onChange: (e: string) => void\n      onInputChange?: (e: FormEvent<HTMLTextAreaElement>) => void\n    }\n  | {\n      onChange?: (e: string) => void\n      onInputChange: (e: FormEvent<HTMLTextAreaElement>) => void\n    }\n\nexport type TextareaProps = BaseProps & TruncateProps\n\nexport const Textarea = forwardRef(function Textarea(\n  {\n    id: idProp,\n    name,\n    value,\n    onChange,\n    onInputChange,\n    resize = 'none',\n    error = false,\n    placeholder,\n    disabled = false,\n    maxLength,\n    onBlur,\n    rows = 4,\n    fallbackStyle,\n    ...fieldProps\n  }: TextareaProps,\n  ref: ForwardedRef<HTMLTextAreaElement>,\n) {\n  const id = useUniqueId(idProp)\n  return (\n    <Field {...fieldProps} htmlFor={id} error={error}>\n      <StyledTextArea\n        ref={ref}\n        $error={error}\n        id={id}\n        name={name}\n        disabled={disabled}\n        $resize={resize}\n        $fallbackStyle={fallbackStyle}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e: FormEvent<HTMLTextAreaElement>) => {\n          onChange?.(e.currentTarget.value)\n          onInputChange?.(e)\n        }}\n        maxLength={maxLength}\n        onBlur={onBlur}\n        rows={rows}\n      />\n    </Field>\n  )\n})\n\ninterface TextArea {\n  $resize: 'none' | 'both'\n  disabled: boolean\n  $error: boolean\n  $fallbackStyle?: boolean\n}\n\nconst StyledTextArea = styled.textarea<TextArea>`\n  font-size: 16px;\n  font: inherit;\n  line-height: 20px;\n  background: ${({ $fallbackStyle }) =>\n    $fallbackStyle ? theme.colors.custard : theme.colors.cream};\n  border: 2px solid ${theme.colors.oatmeal};\n  box-sizing: border-box;\n  border-radius: 12px;\n  width: 100%;\n  padding: 18px 14px;\n  color: ${theme.colors.liquorice};\n  resize: ${({ $resize }) => $resize};\n  cursor: ${({ disabled }) => (disabled ? 'not-allowed' : 'text')};\n  opacity: ${({ disabled }) => (disabled ? '0.5' : '1')};\n  border-color: ${({ $error }) =>\n    theme.colors[`${$error ? 'strawberry' : 'oatmeal'}`]};\n  outline: none;\n\n  &:hover,\n  &:focus,\n  &:focus-visible {\n    border-color: ${({ $error }) =>\n      $error ? theme.colors.strawberry : theme.colors.marzipan};\n  }\n`\n","import { useArgs } from '@storybook/preview-api'\nimport { Meta, StoryObj } from '@storybook/react'\nimport React from 'react'\nimport { Textarea, TextareaProps } from '../Textarea'\n\nconst meta: Meta<typeof Textarea> = {\n  title: 'Textarea',\n  component: Textarea,\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof Textarea>\n\nconst InteractiveTemplate = (args: TextareaProps) => {\n  const [{ value }, updateArgs] = useArgs<TextareaProps>()\n\n  const handleChange = (e: string) => {\n    updateArgs({ value: e })\n    if (args.onChange) args.onChange(e)\n  }\n\n  return <Textarea {...args} value={value} onChange={handleChange} />\n}\n\nexport const Default: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Disabled: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    resize: 'none',\n    disabled: true,\n    placeholder: 'Here is some placeholder text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Error: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    resize: 'none',\n    error: true,\n    errorMsg: 'Something really quite terrible has gone wrong here!',\n  },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          {\n            // Disabling color-contrast for design sync\n            id: 'color-contrast',\n            enabled: false,\n          },\n        ],\n      },\n    },\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Required: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    maxLength: 200,\n    placeholder: 'Here is some placeholder text.',\n    required: true,\n  },\n  render: InteractiveTemplate,\n}\n\nexport const WithTitleAsLabel: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    required: false,\n    renderAsTitle: true,\n  },\n  render: InteractiveTemplate,\n}\n\nexport const AssistiveText: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea with Assistive Text',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    assistiveText: 'This is some assistive text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Fallback: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea with Fallback Error',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    fallbackStyle: true,\n  },\n  render: InteractiveTemplate,\n}\n"],"names":["cov_2qhv5et2hw","actualCoverage","idProp","Textarea","forwardRef","name","value","onChange","onInputChange","resize","error","placeholder","disabled","maxLength","onBlur","rows","fallbackStyle","useUniqueId","React","Field","htmlFor","StyledTextArea","$error","id","$resize","$fallbackStyle","s","currentTarget","e","theme","colors","useArgs","meta","title","component","InteractiveTemplate","args","updateArgs","handleChange","Default","label","render","Disabled","Error","errorMsg","parameters","a11y","config","rules","enabled","Required","required","WithTitleAsLabel","renderAsTitle","AssistiveText","assistiveText","Fallback","docs","source","originalSource"],"mappings":"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"}