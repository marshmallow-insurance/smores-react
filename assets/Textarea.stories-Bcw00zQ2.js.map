{"version":3,"file":"Textarea.stories-Bcw00zQ2.js","sources":["../../src/Textarea/Textarea.tsx","../../src/Textarea/storybook/Textarea.stories.tsx"],"sourcesContent":["import React, { FocusEvent, FormEvent, ForwardedRef, forwardRef } from 'react'\nimport styled from 'styled-components'\n\nimport { Field } from '../fields/Field'\nimport { CommonFieldProps } from '../fields/commonFieldTypes'\nimport { theme } from '../theme'\nimport { useUniqueId } from '../utils/id'\nimport { MarginProps } from '../utils/space'\n\ntype BaseProps = {\n  id?: string\n  placeholder?: string\n  name?: string\n  value: string\n  error?: boolean\n  errorMsg?: string\n  resize?: 'none' | 'both'\n  disabled?: boolean\n  maxLength?: number\n  onBlur?: (e: FocusEvent<HTMLTextAreaElement>) => void\n  rows?: number\n  fallbackStyle?: boolean\n} & CommonFieldProps &\n  MarginProps\n\ntype TruncateProps =\n  | {\n      onChange: (e: string) => void\n      onInputChange?: (e: FormEvent<HTMLTextAreaElement>) => void\n    }\n  | {\n      onChange?: (e: string) => void\n      onInputChange: (e: FormEvent<HTMLTextAreaElement>) => void\n    }\n\nexport type TextareaProps = BaseProps & TruncateProps\n\nexport const Textarea = forwardRef(function Textarea(\n  {\n    id: idProp,\n    name,\n    value,\n    onChange,\n    onInputChange,\n    resize = 'none',\n    error = false,\n    placeholder,\n    disabled = false,\n    maxLength,\n    onBlur,\n    rows = 4,\n    fallbackStyle,\n    ...fieldProps\n  }: TextareaProps,\n  ref: ForwardedRef<HTMLTextAreaElement>,\n) {\n  const id = useUniqueId(idProp)\n  return (\n    <Field {...fieldProps} htmlFor={id} error={error}>\n      <StyledTextArea\n        ref={ref}\n        $error={error}\n        id={id}\n        name={name}\n        disabled={disabled}\n        $resize={resize}\n        $fallbackStyle={fallbackStyle}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e: FormEvent<HTMLTextAreaElement>) => {\n          onChange?.(e.currentTarget.value)\n          onInputChange?.(e)\n        }}\n        maxLength={maxLength}\n        onBlur={onBlur}\n        rows={rows}\n      />\n    </Field>\n  )\n})\n\ninterface TextArea {\n  $resize: 'none' | 'both'\n  disabled: boolean\n  $error: boolean\n  $fallbackStyle?: boolean\n}\n\nconst StyledTextArea = styled.textarea<TextArea>`\n  font-size: 16px;\n  font: inherit;\n  line-height: 20px;\n  background: ${({ $fallbackStyle }) =>\n    $fallbackStyle ? theme.colors.custard : theme.colors.cream};\n  border: 2px solid ${theme.colors.oatmeal};\n  box-sizing: border-box;\n  border-radius: 12px;\n  width: 100%;\n  padding: 18px 14px;\n  color: ${theme.colors.liquorice};\n  resize: ${({ $resize }) => $resize};\n  cursor: ${({ disabled }) => (disabled ? 'not-allowed' : 'text')};\n  opacity: ${({ disabled }) => (disabled ? '0.5' : '1')};\n  border-color: ${({ $error }) =>\n    theme.colors[`${$error ? 'strawberry' : 'oatmeal'}`]};\n  outline: none;\n\n  &:hover,\n  &:focus,\n  &:focus-visible {\n    border-color: ${({ $error }) =>\n      $error ? theme.colors.strawberry : theme.colors.marzipan};\n  }\n`\n","import { useArgs } from '@storybook/preview-api'\nimport { Meta, StoryObj } from '@storybook/react'\nimport React from 'react'\nimport { Textarea, TextareaProps } from '../Textarea'\n\nconst meta: Meta<typeof Textarea> = {\n  title: 'Textarea',\n  component: Textarea,\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof Textarea>\n\nconst InteractiveTemplate = (args: TextareaProps) => {\n  const [{ value }, updateArgs] = useArgs<TextareaProps>()\n\n  const handleChange = (e: string) => {\n    updateArgs({ value: e })\n    if (args.onChange) args.onChange(e)\n  }\n\n  return <Textarea {...args} value={value} onChange={handleChange} />\n}\n\nexport const Default: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Disabled: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    resize: 'none',\n    disabled: true,\n    placeholder: 'Here is some placeholder text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Error: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    resize: 'none',\n    error: true,\n    errorMsg: 'Something really quite terrible has gone wrong here!',\n  },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          {\n            // Disabling color-contrast for design sync\n            id: 'color-contrast',\n            enabled: false,\n          },\n        ],\n      },\n    },\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Required: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    maxLength: 200,\n    placeholder: 'Here is some placeholder text.',\n    required: true,\n  },\n  render: InteractiveTemplate,\n}\n\nexport const WithTitleAsLabel: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    required: false,\n    renderAsTitle: true,\n  },\n  render: InteractiveTemplate,\n}\n\nexport const AssistiveText: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea with Assistive Text',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    assistiveText: 'This is some assistive text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Fallback: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea with Fallback Error',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    fallbackStyle: true,\n  },\n  render: InteractiveTemplate,\n}\n"],"names":["cov_2qhv5et2hw","actualCoverage","forwardRef","Textarea","name","idProp","value","onChange","onInputChange","resize","error","b","placeholder","disabled","maxLength","onBlur","rows","fallbackStyle","useUniqueId","React","Field","htmlFor","StyledTextArea","$error","id","$resize","$fallbackStyle","s","e","theme","colors","useArgs","meta","title","component","InteractiveTemplate","args","updateArgs","handleChange","Default","label","render","Disabled","Error","errorMsg","parameters","a11y","config","rules","enabled","Required","required","WithTitleAsLabel","renderAsTitle","AssistiveText","assistiveText","Fallback","docs","source","originalSource"],"mappings":"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"}