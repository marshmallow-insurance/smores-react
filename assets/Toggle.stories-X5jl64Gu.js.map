{"version":3,"file":"Toggle.stories-X5jl64Gu.js","sources":["../../src/Toggle/Toggle.tsx","../../src/Toggle/storybook/Toggle.stories.tsx"],"sourcesContent":["import React, { FC } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { Box } from '../Box'\nimport { Color, theme } from '../theme'\nimport { focusOutline } from '../utils/focusOutline'\nimport { MarginProps } from '../utils/space'\n\nexport type Props = {\n  /** unique ID */\n  id?: string\n  /** checked flag  */\n  checked: boolean\n  disabled?: boolean\n  /** onToggle listener  */\n  onToggle: () => void\n  bgColor?: Color\n} & MarginProps\n\nexport const Toggle: FC<Props> = ({\n  id,\n  checked,\n  onToggle,\n  disabled,\n  bgColor,\n  ...marginProps\n}) => {\n  return (\n    <Switch forwardedAs=\"label\" htmlFor={id} {...marginProps}>\n      <Checkbox\n        id={id}\n        disabled={disabled}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={onToggle}\n        $bgColor={bgColor}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') {\n            onToggle()\n          }\n        }}\n        aria-label=\"toggle\"\n      />\n      <Slider $disabled={disabled} />\n    </Switch>\n  )\n}\n\nconst Switch = styled(Box)`\n  position: relative;\n  display: inline-block;\n  width: 56px;\n  height: 32px;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n`\n\nconst Slider = styled.span<{ $disabled?: boolean }>`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ${theme.colors.oatmeal};\n  border: none;\n  border-radius: 28px;\n  transition: 0.2s background-color;\n  outline: none;\n\n  &:before {\n    position: absolute;\n    content: '';\n    height: 24px;\n    width: 24px;\n    left: 4px;\n    bottom: 4px;\n    background-color: ${theme.colors.mascarpone};\n    transition: 0.2s transform;\n    border-radius: 50%;\n  }\n\n  ${({ $disabled }) =>\n    $disabled\n      ? css`\n          cursor: not-allowed;\n        `\n      : css`\n          &:hover {\n            background-color: ${theme.colors.marzipan};\n          }\n        `}\n`\n\nconst Checkbox = styled.input<{ $bgColor?: Color }>`\n  ${focusOutline({ selector: `&:focus-visible + ${Slider}` })}\n\n  &:checked + ${Slider} {\n    background-color: ${(props) =>\n      props.$bgColor ? theme.colors[props.$bgColor] : theme.colors.pistachio};\n    border: none;\n  }\n\n  &:checked + ${Slider}:before {\n    transform: translateX(24px);\n  }\n`\n","import { useArgs } from '@storybook/preview-api'\nimport { Meta, StoryObj } from '@storybook/react'\nimport { expect, fn, userEvent, waitFor, within } from '@storybook/test'\nimport React from 'react'\nimport { Props, Toggle } from '../Toggle'\n\nconst Render = (args: Props) => {\n  const [{ checked }, updateArgs] = useArgs<Props>()\n\n  function onChange() {\n    args.onToggle()\n    updateArgs({ checked: !checked })\n  }\n\n  return <Toggle {...args} onToggle={onChange} checked={checked} />\n}\n\nconst meta: Meta<typeof Toggle> = {\n  title: 'Toggle',\n  component: Toggle,\n  decorators: [\n    (Story) => (\n      <div style={{ margin: '64px' }}>\n        <Story />\n      </div>\n    ),\n  ],\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof Toggle>\n\nexport const Primary: Story = {\n  args: {\n    onToggle: fn(),\n    checked: true,\n  },\n  render: Render,\n  play: async ({ args, canvasElement }) => {\n    const canvas = within(canvasElement)\n    const checkbox = canvas.getByRole('checkbox', { name: 'toggle' })\n    await userEvent.click(checkbox)\n    await waitFor(() => expect(args.onToggle).toHaveBeenCalled())\n  },\n}\n\nexport const Disabled: Story = {\n  args: {\n    checked: false,\n    disabled: true,\n  },\n  render: Render,\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement)\n    const checkbox = canvas.getByRole('checkbox', { name: 'toggle' })\n    await userEvent.click(checkbox)\n    await expect(checkbox).toBeDisabled()\n  },\n}\n"],"names":["cov_2bed1qo1sj","actualCoverage","Toggle","checked","onToggle","disabled","bgColor","marginProps","s","htmlFor","React","Checkbox","type","onChange","$bgColor","onKeyDown","$disabled","focusOutline","styled","Slider","props","theme","useArgs","Render","args","updateArgs","meta","title","component","decorators","Story","margin","Primary","fn","render","play","canvasElement","checkbox","within","getByRole","name","userEvent","click","waitFor","expect","toHaveBeenCalled","Disabled","toBeDisabled","parameters","docs","source","originalSource"],"mappings":"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"}