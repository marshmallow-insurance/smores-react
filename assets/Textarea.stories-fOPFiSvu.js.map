{"version":3,"file":"Textarea.stories-fOPFiSvu.js","sources":["../../src/Textarea/Textarea.tsx","../../src/Textarea/storybook/Textarea.stories.tsx"],"sourcesContent":["import { FocusEvent, FormEvent, ForwardedRef, forwardRef } from 'react';\nimport styled from 'styled-components'\n\nimport { Field } from '../fields/Field'\nimport { CommonFieldProps } from '../fields/commonFieldTypes'\nimport { useUniqueId } from '../utils/id'\nimport { MarginProps } from '../utils/space'\n\ntype BaseProps = {\n  id?: string\n  placeholder?: string\n  name?: string\n  value: string\n  error?: boolean\n  errorMsg?: string\n  resize?: 'none' | 'both'\n  disabled?: boolean\n  maxLength?: number\n  onBlur?: (e: FocusEvent<HTMLTextAreaElement>) => void\n  rows?: number\n  fallbackStyle?: boolean\n} & CommonFieldProps &\n  MarginProps\n\ntype TruncateProps =\n  | {\n      onChange: (e: string) => void\n      onInputChange?: (e: FormEvent<HTMLTextAreaElement>) => void\n    }\n  | {\n      onChange?: (e: string) => void\n      onInputChange: (e: FormEvent<HTMLTextAreaElement>) => void\n    }\n\nexport type TextareaProps = BaseProps & TruncateProps\n\nexport const Textarea = forwardRef(function Textarea(\n  {\n    id: idProp,\n    name,\n    value,\n    onChange,\n    onInputChange,\n    resize = 'none',\n    error = false,\n    placeholder,\n    disabled = false,\n    maxLength,\n    onBlur,\n    rows = 4,\n    fallbackStyle,\n    ...fieldProps\n  }: TextareaProps,\n  ref: ForwardedRef<HTMLTextAreaElement>,\n) {\n  const id = useUniqueId(idProp)\n  return (\n    <Field {...fieldProps} htmlFor={id} error={error}>\n      <StyledTextArea\n        ref={ref}\n        $error={error}\n        id={id}\n        name={name}\n        disabled={disabled}\n        $resize={resize}\n        $fallbackStyle={fallbackStyle}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e: FormEvent<HTMLTextAreaElement>) => {\n          onChange?.(e.currentTarget.value)\n          onInputChange?.(e)\n        }}\n        maxLength={maxLength}\n        onBlur={onBlur}\n        rows={rows}\n      />\n    </Field>\n  )\n})\n\ninterface TextArea {\n  $resize: 'none' | 'both'\n  disabled: boolean\n  $error: boolean\n  $fallbackStyle?: boolean\n}\n\nconst StyledTextArea = styled.textarea<TextArea>`\n  font-size: 16px;\n  font: inherit;\n  line-height: 20px;\n  background: ${({ $fallbackStyle, theme }) =>\n    $fallbackStyle\n      ? theme.color.surface.base[300]\n      : theme.color.background['000']};\n  border: 2px solid ${({ theme }) => theme.color.border.subtle};\n  box-sizing: border-box;\n  border-radius: 12px;\n  width: 100%;\n  padding: 18px 14px;\n  color: ${({ theme }) => theme.color.text.base};\n  resize: ${({ $resize }) => $resize};\n  cursor: ${({ disabled }) => (disabled ? 'not-allowed' : 'text')};\n  opacity: ${({ disabled }) => (disabled ? '0.5' : '1')};\n  border-color: ${({ $error, theme }) =>\n    $error ? theme.color.feedback.negative[200] : theme.color.border.subtle};\n  outline: none;\n\n  &:hover,\n  &:focus,\n  &:focus-visible {\n    border-color: ${({ $error, theme }) =>\n      $error ? theme.color.feedback.negative[200] : theme.color.border.base};\n  }\n`\n","import { useArgs } from '@storybook/preview-api'\nimport { Meta, StoryObj } from '@storybook/react'\nimport { Textarea, TextareaProps } from '../Textarea'\n\nconst meta: Meta<typeof Textarea> = {\n  title: 'Textarea',\n  component: Textarea,\n}\n\nexport default meta\n\ntype Story = StoryObj<typeof Textarea>\n\nconst InteractiveTemplate = (args: TextareaProps) => {\n  const [{ value }, updateArgs] = useArgs<TextareaProps>()\n\n  const handleChange = (e: string) => {\n    updateArgs({ value: e })\n    if (args.onChange) args.onChange(e)\n  }\n\n  return <Textarea {...args} value={value} onChange={handleChange} />\n}\n\nexport const Default: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Disabled: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    resize: 'none',\n    disabled: true,\n    placeholder: 'Here is some placeholder text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Error: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    resize: 'none',\n    error: true,\n    errorMsg: 'Something really quite terrible has gone wrong here!',\n  },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          {\n            // Disabling color-contrast for design sync\n            id: 'color-contrast',\n            enabled: false,\n          },\n        ],\n      },\n    },\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Required: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    maxLength: 200,\n    placeholder: 'Here is some placeholder text.',\n    required: true,\n  },\n  render: InteractiveTemplate,\n}\n\nexport const WithTitleAsLabel: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea label',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    required: false,\n    renderAsTitle: true,\n  },\n  render: InteractiveTemplate,\n}\n\nexport const AssistiveText: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea with Assistive Text',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    assistiveText: 'This is some assistive text.',\n  },\n  render: InteractiveTemplate,\n}\n\nexport const Fallback: Story = {\n  args: {\n    id: 'textarea_id',\n    label: 'Textarea with Fallback Error',\n    disabled: false,\n    placeholder: 'Here is some placeholder text.',\n    fallbackStyle: true,\n  },\n  render: InteractiveTemplate,\n}\n"],"names":["cov_2qhv5et2hw","actualCoverage","idProp","Textarea","forwardRef","name","value","onChange","onInputChange","resize","error","placeholder","disabled","maxLength","onBlur","rows","fallbackStyle","useUniqueId","jsx","Field","htmlFor","id","children","StyledTextArea","$error","$resize","$fallbackStyle","s","currentTarget","e","theme","color","border","text","useArgs","meta","title","component","InteractiveTemplate","args","updateArgs","handleChange","Default","label","render","Disabled","Error","errorMsg","parameters","a11y","config","rules","enabled","Required","required","WithTitleAsLabel","renderAsTitle","AssistiveText","assistiveText","Fallback","docs","source","originalSource"],"mappings":"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"}